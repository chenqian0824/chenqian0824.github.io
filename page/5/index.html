<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="余真帆, fanerge, web, web前端" />





  <link rel="alternate" href="/atom.xml" title="余真帆的博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="前端、web">
<meta property="og:type" content="website">
<meta property="og:title" content="余真帆的博客">
<meta property="og:url" content="https://fanerge.github.io/page/5/index.html">
<meta property="og:site_name" content="余真帆的博客">
<meta property="og:description" content="前端、web">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="余真帆的博客">
<meta name="twitter:description" content="前端、web">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://fanerge.github.io/page/5/"/>





  <title>  余真帆的博客 - 前端、web  </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?947609e8bcc46de32a1dca9cc56cd8a1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">余真帆的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">一个专注于技术的个人博客</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/23/ramda运用-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/23/ramda运用-3/" itemprop="url">
                  ramda数组的操作和透镜
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-23T20:09:42+08:00">
                2017-08-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/23/ramda运用-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/23/ramda运用-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>继续函数式编程的学习。</p>
<h4 id="数据不变性和数组"><a href="#数据不变性和数组" class="headerlink" title="数据不变性和数组"></a>数据不变性和数组</h4><h5 id="读取数组元素"><a href="#读取数组元素" class="headerlink" title="读取数组元素"></a>读取数组元素</h5><pre><code>nth -- 类型于对象prop
slice -- 类似于对象pick
contains -- 类似于对象的has
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const numbers = [10, 20, 30, 40, 50, 60]</div><div class="line">R.nth(3, numbers) // =&gt; 40  (0-based indexing)</div><div class="line">R.nth(-2, numbers) // =&gt; 50 (negative numbers start from the right)</div><div class="line">R.slice(2, 5, numbers) // =&gt; [30, 40, 50] (see below)</div><div class="line">R.contains(20, numbers) // =&gt; true</div></pre></td></tr></table></figure>

nth(0) === head
nth(length-1) === last
tail -- 访问除首个元素之外的所有元素的函数
init -- 除最后一个元素之外的所有元素的方法
take(N) -- 前 N 个元素
takeLast(N) -- 后 N 个元素
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">const numbers = [10, 20, 30, 40, 50, 60]</div><div class="line">R.head(numbers) // =&gt; 10</div><div class="line">R.tail(numbers) // =&gt; [20, 30, 40, 50, 60]</div><div class="line">R.last(numbers) // =&gt; 60</div><div class="line">R.init(numbers) // =&gt; [10, 20, 30, 40, 50]</div><div class="line">R.take(3, numbers) // =&gt; [10, 20, 30]</div><div class="line">R.takeLast(3, numbers) // =&gt; [40, 50, 60]</div></pre></td></tr></table></figure>
</code></pre><h5 id="增、删、改数组元素"><a href="#增、删、改数组元素" class="headerlink" title="增、删、改数组元素"></a>增、删、改数组元素</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">insert：将元素插入到 list 指定索引处。</div><div class="line">R.insert(2, &apos;x&apos;, [1,2,3,4]); //=&gt; [1,2,&apos;x&apos;,3,4]</div><div class="line">update：替换数组中指定索引处的值。</div><div class="line">R.update(1, 11, [0, 1, 2]);     //=&gt; [0, 11, 2]</div><div class="line">append：在列表末尾拼接一个元素。</div><div class="line">R.append(&apos;tests&apos;, [&apos;write&apos;, &apos;more&apos;]); //=&gt; [&apos;write&apos;, &apos;more&apos;, &apos;tests&apos;]</div><div class="line">prepend：在列表头部之前拼接一个元素。</div><div class="line">R.prepend(&apos;fee&apos;, [&apos;fi&apos;, &apos;fo&apos;, &apos;fum&apos;]); //=&gt; [&apos;fee&apos;, &apos;fi&apos;, &apos;fo&apos;, &apos;fum&apos;]</div><div class="line">concat：连接列表或字符串。</div><div class="line">R.concat([4, 5, 6], [1, 2, 3]); //=&gt; [4, 5, 6, 1, 2, 3]</div><div class="line">// 反转数组拼接</div><div class="line">const concatAfter = R.flip(R.concat)</div><div class="line">remove：删除列表中从 start 开始的 count 个元素。</div><div class="line">R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=&gt; [1,2,6,7,8]</div><div class="line">without：求第二个列表中，未包含在第一个列表中的任一元素的集合。</div><div class="line">R.without([1, 2], [1, 2, 1, 3, 4]); //=&gt; [3, 4]</div><div class="line">drop：删除给定 list，string 或者 transducer/transformer（或者具有 drop 方法的对象）的前 n 个元素。</div><div class="line">R.drop(1, [&apos;foo&apos;, &apos;bar&apos;, &apos;baz&apos;]); //=&gt; [&apos;bar&apos;, &apos;baz&apos;]</div><div class="line">dropLast：删除 &quot;list&quot; 末尾的 n 个元素。</div><div class="line">R.dropLast(1, [&apos;foo&apos;, &apos;bar&apos;, &apos;baz&apos;]); //=&gt; [&apos;foo&apos;, &apos;bar&apos;]</div></pre></td></tr></table></figure>
</code></pre><h5 id="变换元素"><a href="#变换元素" class="headerlink" title="变换元素"></a>变换元素</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">adjust：将数组中指定索引处的值替换为经函数变换的值。</div><div class="line">R.adjust(R.add(10), 1, [1, 2, 3]);     //=&gt; [1, 12, 3]</div></pre></td></tr></table></figure>
</code></pre><h4 id="透镜（Lenses）"><a href="#透镜（Lenses）" class="headerlink" title="透镜（Lenses）"></a>透镜（Lenses）</h4><h5 id="什么是透镜？"><a href="#什么是透镜？" class="headerlink" title="什么是透镜？"></a>什么是透镜？</h5><pre><code>透镜将 &quot;getter&quot; 和 &quot;setter&quot; 函数组合为一个单一模块。Ramda 提供了一系列配合透镜一起工作的函数。
可以将透镜视为对某些较大数据结构的特定部分的聚焦、关注。
</code></pre><h5 id="如何创建透镜"><a href="#如何创建透镜" class="headerlink" title="如何创建透镜"></a>如何创建透镜</h5><pre><code>lens：返回封装了给定 getter 和 setter 方法的 lens 。 getter 和 setter 分别用于 “获取” 和 “设置” 焦点（lens 聚焦的值）。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var xLens = R.lens(R.prop(&apos;x&apos;), R.assoc(&apos;x&apos;));</div><div class="line">R.view(xLens, &#123;x: 1, y: 2&#125;);            //=&gt; 1</div><div class="line">R.set(xLens, 4, &#123;x: 1, y: 2&#125;);          //=&gt; &#123;x: 4, y: 2&#125;</div><div class="line">// 还有三个便捷函数</div><div class="line">LensProp：创建关注对象某一属性的透镜。</div><div class="line">lensPath: 创建关注对象某一嵌套属性的透镜。</div><div class="line">lensIndex: 创建关注数组某一索引的透镜。</div></pre></td></tr></table></figure>
</code></pre><h5 id="我能用它做什么呢？"><a href="#我能用它做什么呢？" class="headerlink" title="我能用它做什么呢？"></a>我能用它做什么呢？</h5><pre><code>Ramda 提供了三个配合透镜一起使用的的函数：
    view：读取透镜的值。
    set：更新透镜的值。
    over：将变换函数作用于透镜。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var xLens = R.lens(R.prop(&apos;x&apos;), R.assoc(&apos;x&apos;));</div><div class="line">R.view(xLens, &#123;x: 1, y: 2&#125;);            //=&gt; 1</div><div class="line">R.set(xLens, 4, &#123;x: 1, y: 2&#125;);          //=&gt; &#123;x: 4, y: 2&#125;</div><div class="line">R.over(xLens, R.negate, &#123;x: 1, y: 2&#125;);  //=&gt; &#123;x: -1, y: 2&#125;</div><div class="line">// 区别:</div><div class="line">// set 和 over 会按指定的方式对被透镜关注的属性进行修改，并返回整个新的对象。</div></pre></td></tr></table></figure>
</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>本节学习了：某些较大数据结构的处理 -- 透镜。
数组：读取(nth、slice、contains、head、last、tail、init、take、takeLast)
增、删、改(insert、update、append、prepend、concat、remove、without、drop、dropLast)
变换(adjust)
</code></pre><blockquote>
<p>   参考文献：<br>    <a href="http://www.cnblogs.com/whitewolf/p/javascript-functional-programming-Ramdajs.html" target="_blank" rel="external">JavaScript函数编程-Ramdajs</a><br>    <a href="https://zhuanlan.zhihu.com/p/27446536" target="_blank" rel="external">Thinking in Ramda系列文章</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/22/ramda运用-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/22/ramda运用-2/" itemprop="url">
                  ramda无参数风格和对象的相关操作
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-22T19:36:23+08:00">
                2017-08-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/22/ramda运用-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/22/ramda运用-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>继续函数式编程的学习。</p>
<h4 id="Pointfree-风格（无参数风格）"><a href="#Pointfree-风格（无参数风格）" class="headerlink" title="Pointfree 风格（无参数风格）"></a>Pointfree 风格（无参数风格）</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var forever21 = age =&gt; R.ifElse(R.gte(R.__, 21), R.always(21), R.inc)(age);</div><div class="line">// console.log(forever21(23)); // 21</div><div class="line"></div><div class="line">// pointfree风格的</div><div class="line">var forever21 = R.ifElse(R.gte(R.__, 21), R.always(21), R.inc);</div><div class="line">// console.log(forever21(21));</div><div class="line">// 我们刚刚让 age 消失了。这就是 Pointfree 风格。注意，这两个版本所做的事情完全一样。我们仍然返回一个接受年龄的函数，但并未显示的指定 age 参数。</div></pre></td></tr></table></figure>
</code></pre><h4 id="多元函数（多参数函数）"><a href="#多元函数（多参数函数）" class="headerlink" title="多元函数（多参数函数）"></a>多元函数（多参数函数）</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">var titlesForYear = R.curry((year, books) =&gt; &#123;</div><div class="line">  R.pipe(</div><div class="line">	R.filter(publishedInYear(year)),</div><div class="line">	R.map(book =&gt; book.title)    </div><div class="line">  )(books);</div><div class="line">&#125;);</div><div class="line">// console.log(titlesForYear(2012)(books));</div><div class="line"></div><div class="line">var titlesForYear = year =&gt; &#123;</div><div class="line">  R.pipe(</div><div class="line">	R.filter(publishedInYear(year)),</div><div class="line">	R.map(book =&gt; book.title)</div><div class="line">  )</div><div class="line">&#125;;</div><div class="line">console.log(titlesForYear(2012));</div></pre></td></tr></table></figure>
</code></pre><h4 id="重构为-pointfree-风格的代码"><a href="#重构为-pointfree-风格的代码" class="headerlink" title="重构为 pointfree 风格的代码"></a>重构为 pointfree 风格的代码</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// 改写18岁投票系统</div><div class="line">const wasBornInCountry = person =&gt; person.birthCountry === OUR_COUNTRY</div><div class="line">const wasNaturalized = person =&gt; Boolean(person.naturalizationDate)</div><div class="line">const isOver18 = person =&gt; person.age &gt;= 18</div><div class="line">const isCitizen = person =&gt; wasBornInCountry(person) || wasNaturalized(person)</div><div class="line">const isEligibleToVote = person =&gt; isOver18(person) &amp;&amp; isCitizen(person)</div><div class="line"></div><div class="line">const isEligibleToVote = person =&gt; both(isOver18, isCitizen)(person)</div><div class="line">const isCitizen = either(wasBornInCountry, wasNaturalized)</div><div class="line">const isEligibleToVote = both(isOver18, isCitizen)</div></pre></td></tr></table></figure>
</code></pre><h4 id="读取对象属性"><a href="#读取对象属性" class="headerlink" title="读取对象属性"></a>读取对象属性</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">const wasBornInCountry = person =&gt; person.birthCountry === OUR_COUNTRY</div><div class="line">const wasNaturalized = person =&gt; Boolean(person.naturalizationDate)</div><div class="line">const isOver18 = person =&gt; person.age &gt;= 18</div><div class="line">const isCitizen = either(wasBornInCountry, wasNaturalized)</div><div class="line">const isEligibleToVote = both(isOver18, isCitizen)</div><div class="line"></div><div class="line">// 改写为</div><div class="line">const wasBornInCountry = person =&gt; equals(person.birthCountry, OUR_COUNTRY)</div><div class="line">const wasNaturalized = person =&gt; Boolean(person.naturalizationDate)</div><div class="line">const isOver18 = person =&gt; gte(person.age, 18)</div></pre></td></tr></table></figure>
</code></pre><h5 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h5><pre><code>定义：取出对象中指定属性的值。如果不存在，则返回 undefined。
R.prop(&apos;x&apos;, {x: 100}); //=&gt; 100
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var wasBornInCountry = R.compose(R.equals(&apos;CHINA&apos;), R.prop(&apos;birthCountry&apos;))</div><div class="line">var wasNaturalized = R.compose(Boolean, R.prop(&apos;naturalizationDate&apos;))</div><div class="line">var isOver18 = R.compose(R.gte(R.__, 18), R.prop(&apos;age&apos;))</div><div class="line">console.log(R.both(wasBornInCountry, isOver18)(person1)); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="pick"><a href="#pick" class="headerlink" title="pick"></a>pick</h5><pre><code>定义：返回对象的部分拷贝，其中仅包含指定键对应的属性。如果某个键不存在，则忽略该属性。
R.pick([&apos;a&apos;, &apos;d&apos;], {a: 1, b: 2, c: 3, d: 4}); //=&gt; {a: 1, d: 4}
</code></pre><h5 id="has-hasIn"><a href="#has-hasIn" class="headerlink" title="has/hasIn"></a>has/hasIn</h5><pre><code>has定义：如果对象自身含有指定的属性，则返回 true；否则返回 false。
R.has(&apos;name&apos;)({name: &apos;alice&apos;});
hasIn定义：如果对象自身或其原型链上含有指定的属性，则返回 true；否则返回 false。
</code></pre><h5 id="path"><a href="#path" class="headerlink" title="path"></a>path</h5><pre><code>定义：取出给定路径上的值。
R.path([&apos;a&apos;, &apos;b&apos;], {a: {b: 2}}); //=&gt; 2
</code></pre><h5 id="propOr-pathOr"><a href="#propOr-pathOr" class="headerlink" title="propOr / pathOr"></a>propOr / pathOr</h5><pre><code>propOr定义：propOr 和 pathOr 像是 prop/path 与 defaultTo 的组合。如果在目标对象中找不到属性或路径的值，它们允许你提供默认值
propOr(&apos;&lt;Unnamed&gt;&apos;, &apos;name&apos;, person);
</code></pre><h5 id="keys-values"><a href="#keys-values" class="headerlink" title="keys / values"></a>keys / values</h5><pre><code>keys 返回一个包含对象中所有属性名称的数组，values 返回这些属性的值组成的数组。
</code></pre><h5 id="对属性增、删、改、查"><a href="#对属性增、删、改、查" class="headerlink" title="对属性增、删、改、查"></a>对属性增、删、改、查</h5><pre><code>···    
assoc/assocPath
assoc：浅复制对象，然后设置或覆盖对象的指定属性。
R.assoc(&apos;c&apos;, 3, {a: 1, b: 2}); //=&gt; {a: 1, b: 2, c: 3}
assocPath：浅复制对象，设置或覆盖即将创建的给定路径所需的节点，并将特定值放在该路径的末端。
R.assocPath([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], 42, {a: {b: {c: 0}}}); //=&gt; {a: {b: {c: 42}}}

dissoc/dissocPath/omit
dissoc：删除对象中指定 prop 属性。
R.dissoc(&apos;b&apos;, {a: 1, b: 2, c: 3}); //=&gt; {a: 1, c: 3}
dissocPath：浅复制对象，删除返回对象中指定路径上的属性。
R.dissocPath([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], {a: {b: {c: 42}}}); //=&gt; {a: {b: {}}}
omit：删除对象中给定的 keys 对应的属性。
R.omit([&apos;a&apos;, &apos;d&apos;], {a: 1, b: 2, c: 3, d: 4}); //=&gt; {b: 2, c: 3}
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">	</div><div class="line">####	属性转换</div><div class="line">	evolve：递归地对 object 的属性进行变换，变换方式由 transformation 函数定义。</div></pre></td></tr></table></figure>

var tomato  = {firstName: &apos;  Tomato &apos;, data: {elapsed: 100, remaining: 1400}, id:123};
var transformations = {
  firstName: R.trim,
  lastName: R.trim, // Will not get invoked.
  data: {elapsed: R.add(1), remaining: R.add(-1)}
};
R.evolve(transformations, tomato); //=&gt; {firstName: &apos;Tomato&apos;, data: {elapsed: 101, remaining: 1399}, id:123}
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">####	合并对象</div><div class="line">	merge：合并两个对象的自身属性（不包括 prototype 属性）。如果某个 key 在两个对象中都存在，使用后一个对象对应的属性值。</div></pre></td></tr></table></figure>

R.merge({ &apos;name&apos;: &apos;fred&apos;, &apos;age&apos;: 10 }, { &apos;age&apos;: 40 });
//=&gt; { &apos;name&apos;: &apos;fred&apos;, &apos;age&apos;: 40 }
// 定义一个反转合并的函数(用前面的同名属性覆盖后面的同名属性)
 reverseMerge：const reverseMerge = R.flip(merge)
```
</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>本节学习了：pointfree(无参数风格编程) 
对象属性：读取(prop、pick、has、path、propOr、pathOr、keys、values、)
增删改查(assoc、assocPath、dissoc、dissocPath、omit)
属性转换(evolve)
合并对象(merge)
</code></pre><blockquote>
<p>   参考文献：<br>    <a href="http://www.cnblogs.com/whitewolf/p/javascript-functional-programming-Ramdajs.html" target="_blank" rel="external">JavaScript函数编程-Ramdajs</a><br>    <a href="https://zhuanlan.zhihu.com/p/27446536" target="_blank" rel="external">Thinking in Ramda系列文章</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/21/ramda运用-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/21/ramda运用-1/" itemprop="url">
                  ramda无参数风格编程 (Pointfree Style)和声明式编程
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-21T20:37:43+08:00">
                2017-08-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/21/ramda运用-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/21/ramda运用-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>继续函数式编程的学习。</p>
<h4 id="部分应用（Partial-Application）"><a href="#部分应用（Partial-Application）" class="headerlink" title="部分应用（Partial Application）"></a>部分应用（Partial Application）</h4><pre><code>在上篇文章中，简单的函数链式调用（&quot;pipeline&quot;）时，其中的被调用函数都是一元的（除了首个函数）。但如果要使用多元函数呢？
例如，假设有一个书籍对象的集合，我们想要找到特定年份出版的所有图书的标题。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var books = [</div><div class="line">  &#123;year: 1991, title: &apos;11111&apos;&#125;,</div><div class="line">  &#123;year: 1991, title: &apos;22222&apos;&#125;,</div><div class="line">  &#123;year: 1992, title: &apos;33333&apos;&#125;</div><div class="line">];</div><div class="line">const publishedInYear = (book, year) =&gt; book.year === year;</div><div class="line">const titlesForYear = (books, year) =&gt; &#123;</div><div class="line">  const selected = R.filter(book =&gt; publishedInYear(book, year), books);</div><div class="line">  return R.map(book =&gt; book.title, selected);</div><div class="line">&#125;;</div><div class="line">var book1 = titlesForYear(books, 1991); // [&apos;11111&apos;, &apos;22222&apos;]</div></pre></td></tr></table></figure>
</code></pre><h5 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h5><pre><code>获取或返回其他函数的函数称为 &quot;高阶函数&quot;。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// 高阶函数</div><div class="line">var publishedInYear = function (year) &#123;</div><div class="line">  return function (book) &#123;</div><div class="line">	return book.year === year;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line">// 箭头函数</div><div class="line">// var publishedInYear = year =&gt; book =&gt; book.year === year;</div><div class="line">var titlesForYear = (books, year) =&gt; &#123;</div><div class="line">  const selected = R.filter(publishedInYear(year), books);</div><div class="line">  return R.map(book =&gt; book.title, selected);</div><div class="line">&#125;; </div><div class="line">console.log(titlesForYear(books, 1992)); // &apos;33333&apos;</div></pre></td></tr></table></figure>
</code></pre><h5 id="部分应用函数"><a href="#部分应用函数" class="headerlink" title="部分应用函数"></a>部分应用函数</h5><pre><code>partial/partialRight（部分应用）
定义：这两个函数可以让我们不必一次传递所有需要的参数，也可以调用函数。它们都返回一个接受剩余参数的新函数，当所有参数都传入后，才会真正调用被包裹的原函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 例子，只是想检查一本书是否是在指定年份出版的。</div><div class="line">var publishedInYear = (book, year) =&gt; book.year === year;</div><div class="line">var titleForYear = (books, year) =&gt; &#123;</div><div class="line">  const selected = R.filter(R.partialRight(publishedInYear, [year]), books);</div><div class="line">  return R.map(book =&gt; book.title, selected);</div><div class="line">&#125;;</div><div class="line">// console.log(titleForYear(books, 1992)); // [&apos;33333&apos;]</div></pre></td></tr></table></figure>
</code></pre><h5 id="柯里化-Curry"><a href="#柯里化-Curry" class="headerlink" title="柯里化(Curry)"></a>柯里化(Curry)</h5><pre><code>定义：一个柯里化了的函数是一系列高阶一元函数，将多参数函数转化为单参数函数。
一般来说，我只有需要在多个地方对同一个函数使用 partial 的时候，才会对函数进行柯里化。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var publishedInYear = R.curry((year, book) =&gt; book.year === year);</div><div class="line">var titlesForYear = (books, year) =&gt; &#123;</div><div class="line">  const selected = R.filter(publishedInYear(year), books);</div><div class="line">  return R.map(book =&gt; book.title, selected);</div><div class="line">&#125;;</div><div class="line">console.log(titlesForYear(books, 1992)); // [&apos;33333&apos;]</div><div class="line">var book2 = publishedInYear(1992, &#123;year: 1992, title: &apos;33333&apos;&#125;); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="顺序错误的参数"><a href="#顺序错误的参数" class="headerlink" title="顺序错误的参数"></a>顺序错误的参数</h5><pre><code>filp：交换函数前两个参数的位置。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var mergeThree = (a, b, c) =&gt; [].concat(a, b, c);</div><div class="line">console.log(R.flip(mergeThree)(1, 2, 3)); // [2, 1, 3]</div></pre></td></tr></table></figure>

__或placeholder (占位符)
定义：柯里化函数的参数占位符。允许部分应用于任何位置的参数。
更通用的选择是使用 &quot;placeholder&quot; 参数（__）
假设有一个三元柯里化的函数，并且我们想传入第一个和最后一个参数，中间参数后续再传，应该怎么办呢？我们可以使用 &quot;占位符&quot; 作为中间参数：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">const threeArgs = curry((a, b, c) =&gt; &#123; /* ... */ &#125;);</div><div class="line">const middleArgumentLater = threeArgs(&apos;value for a&apos;, R.__, &apos;value for c&apos;);</div><div class="line"></div><div class="line">var publishedInYear = R.curry((year, book) =&gt; book.year === year)</div><div class="line">var titlesForYear = R.curry((year, books) =&gt;</div><div class="line">  R.pipe(</div><div class="line">	R.filter(publishedInYear(year)),</div><div class="line">	R.map(book =&gt; book.title)</div><div class="line">  )(books)</div><div class="line">)</div><div class="line">// console.log(titlesForYear(1991, books)); // [&quot;11111&quot;, &quot;22222&quot;]</div></pre></td></tr></table></figure>
</code></pre><h4 id="声明式编程"><a href="#声明式编程" class="headerlink" title="声明式编程"></a>声明式编程</h4><h5 id="命令式-vs-声明式"><a href="#命令式-vs-声明式" class="headerlink" title="命令式 vs 声明式"></a>命令式 vs 声明式</h5><pre><code>命令式编程中，程序员需要告诉计算机怎么做来完成任务。
声明式编程，程序员只需告诉计算机我想要什么，然后计算机自己理清如何产生结果。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var square = x =&gt; R.multiply(x, x);</div><div class="line">var operate = R.pipe(</div><div class="line">  R.multiply,</div><div class="line">  R.add(1),</div><div class="line">  square</div><div class="line">  );</div><div class="line">var operate3 = operate(3, 4); // 169</div><div class="line">// add(1) 与增量运算符（++）非常相似，但 ++ 修改了被操作的值，因此它是 &quot;mutation&quot; 的。</div><div class="line">// 所以使用R.add(1),R.subtract(1)代替++ 和 --</div><div class="line">// Ramda提供了R.inc和R.dec</div><div class="line">R.dec(42); //=&gt; 41</div><div class="line">R.negate(42); //=&gt; -42 取反</div></pre></td></tr></table></figure>
</code></pre><h5 id="比较-Comparison"><a href="#比较-Comparison" class="headerlink" title="比较(Comparison)"></a>比较(Comparison)</h5><pre><code>使用R.gt()、R.gte()、R.lt()、R.lte()、R.equals()代替&gt;、&gt;=、&lt;、&lt;=、===
identical：如果两个参数是完全相同，则返回 true，否则返回 false。如果它们引用相同的内存，也认为是完全相同的。
isEmpty：检测给定值是否为其所属类型的空值，若是则返回 true ；否则返回 false 。
isNil：检测输入值是否为 null 或 undefined 。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 改写投票的例子</div><div class="line">var wasBornInCountry = person =&gt; R.equals(person.birthCountry, &apos;CHINA&apos;);</div><div class="line">var wasNaturalized = person =&gt; Boolean(person.naturalizationDate);</div><div class="line">var isOver18 = person =&gt; R.gte(person.age, 18);</div><div class="line">var isCitizen = R.either(wasBornInCountry, wasBornInCountry);</div><div class="line">var isEligibleToVote = R.both(isOver18, isCitizen);</div><div class="line">console.log(isEligibleToVote(&#123;</div><div class="line">  birthCountry: &apos;CHINA&apos;, </div><div class="line">  naturalizationDate: false,</div><div class="line">  age: 22</div><div class="line">&#125;)); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="逻辑-Logic"><a href="#逻辑-Logic" class="headerlink" title="逻辑(Logic)"></a>逻辑(Logic)</h5><pre><code>both 和 either 来代替 &amp;&amp; 和 || 运算符。使用 complement 代替 !。
我以下列方式进行分类：and、or 和 not 用于处理数值；both、either 和 complement 用于处理函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var setting = &#123;&#125;;</div><div class="line">var lineWith = setting.lineWith || 80;</div><div class="line">var lineWith = R.defaultTo(80, setting.lineWith);</div><div class="line">console.log(lineWith); //使用后者代替前者</div></pre></td></tr></table></figure>
</code></pre><h5 id="条件-Conditionals"><a href="#条件-Conditionals" class="headerlink" title="条件(Conditionals)"></a>条件(Conditionals)</h5><pre><code>R.ifElse 代替 if-else
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var forever21 = age =&gt; age &gt;= 21 ? 21 : age + 1</div><div class="line">// console.log(forever21(19)); // 20</div><div class="line">var forever21 = age =&gt; R.ifElse(R.gte(R.__, 21), () =&gt; 21, R.inc)(age)</div><div class="line">// console.log(forever21(19)); // 20</div></pre></td></tr></table></figure>
</code></pre><h5 id="constants-常量"><a href="#constants-常量" class="headerlink" title="constants (常量)"></a>constants (常量)</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">R.always(42) 代替 42</div><div class="line">R.T() === true 忽略所有参数</div><div class="line">console.log(R.T(false)); // true</div><div class="line">R.F() === false 忽略所有参数</div></pre></td></tr></table></figure>
</code></pre><h5 id="identity-恒等"><a href="#identity-恒等" class="headerlink" title="identity (恒等)"></a>identity (恒等)</h5><pre><code>输出恒等于输入。如，a =&gt; a
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">identity：将输入值原样返回。适合用作默认或占位函数。</div><div class="line">nthArg；返回一个函数，该函数返回它的第 n 个参数。</div><div class="line">const alwaysDrivingAge = age =&gt; ifElse(lt(__, 16), always(16), a =&gt; a)(age)</div></pre></td></tr></table></figure>
</code></pre><h5 id="when-和-unless"><a href="#when-和-unless" class="headerlink" title="when 和 unless"></a>when 和 unless</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var alwaysDrivingAge = age =&gt; R.unless(R.gte(R.__, 16), R.always(16))(age)</div><div class="line">console.log(alwaysDrivingAge(15)); // 16</div></pre></td></tr></table></figure>
</code></pre><h5 id="cond"><a href="#cond" class="headerlink" title="cond"></a>cond</h5><pre><code>作用：来代替 switch 语句或链式的 if...then...else 语句
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">const water = temperature =&gt; R.cond([</div><div class="line">  [R.equals(0),   R.always(&apos;water freezes at 0°C&apos;)],</div><div class="line">  [R.equals(100), R.always(&apos;water boils at 100°C&apos;)],</div><div class="line">  [R.T,           temp =&gt; `nothing special happens at $&#123;temp&#125;°C`]</div><div class="line">])(temperature)</div><div class="line">console.log(water(23)); // nothing special happens at 23°C</div></pre></td></tr></table></figure>
</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>本节学习了：高阶函数、部分应用函数、柯里化（Curry）、改变参数顺序的方法（flip、plachhokder__、pipeline）
常用的声明式编程替换命令式编程：add、subtract、multiply、divide等等
</code></pre><blockquote>
<p>   参考文献：<br>    <a href="http://www.cnblogs.com/whitewolf/p/javascript-functional-programming-Ramdajs.html" target="_blank" rel="external">JavaScript函数编程-Ramdajs</a><br>    <a href="https://zhuanlan.zhihu.com/p/27446536" target="_blank" rel="external">Thinking in Ramda系列文章</a></p>
<p>   参考文献：<br>    <a href="http://www.cnblogs.com/whitewolf/p/javascript-functional-programming-Ramdajs.html" target="_blank" rel="external">JavaScript函数编程-Ramdajs</a><br>    <a href="https://zhuanlan.zhihu.com/p/27446536" target="_blank" rel="external">Thinking in Ramda系列文章</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/20/ramda运用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/20/ramda运用/" itemprop="url">
                  ramda入门和函数组合
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-20T21:37:12+08:00">
                2017-08-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/20/ramda运用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/20/ramda运用/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>继续函数式编程的学习。</p>
<h4 id="总结Ramda与Lodash和Underscore的优势"><a href="#总结Ramda与Lodash和Underscore的优势" class="headerlink" title="总结Ramda与Lodash和Underscore的优势"></a>总结Ramda与Lodash和Underscore的优势</h4><h5 id="自动柯里化"><a href="#自动柯里化" class="headerlink" title="自动柯里化"></a>自动柯里化</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">// 一map函数为例，解释Ramda的自动柯里化 </div><div class="line">// map函数解释：param1为对集合每一项进行处理并返回同类型的数据，param2需要处理的集合（Array或Object）</div><div class="line">// 第一种，为使用柯里化</div><div class="line">var map3 = R.map(function (item) &#123;</div><div class="line">  return item * item;</div><div class="line">&#125;, [1, 2, 3, 4]); </div><div class="line">// console.log(map3); // [1, 4, 9, 16]</div><div class="line"></div><div class="line">// 第一种curry化（转化成单参数函数）</div><div class="line">var map1 = R.map(function (item) &#123;</div><div class="line">  return item * item;</div><div class="line">&#125;);</div><div class="line">var map2 = map1([1, 2, 3, 4]);</div><div class="line">// console.log(map2); // [1, 4, 9, 16]</div></pre></td></tr></table></figure>
</code></pre><h5 id="函数参数优先于数据"><a href="#函数参数优先于数据" class="headerlink" title="函数参数优先于数据"></a>函数参数优先于数据</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 函数优先于数据</div><div class="line">var map4 = R.map(R.multiply(2), [1, 2, 3, 4]);</div><div class="line">// console.log(map4); // [2, 4, 6, 8]</div><div class="line">var map5 = R.map(R.multiply(2))([1, 2, 3, 4]);</div><div class="line">// console.log(map5); // [2, 4, 6, 8]</div></pre></td></tr></table></figure>
</code></pre><h4 id="Ramdajs的组合"><a href="#Ramdajs的组合" class="headerlink" title="Ramdajs的组合"></a>Ramdajs的组合</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">// ramdajs的compose组合</div><div class="line">var users = [</div><div class="line">  &#123; &apos;user&apos;: &apos;user1&apos;,  &apos;age&apos;: 36 &#125;,</div><div class="line">  &#123; &apos;user&apos;: &apos;user2&apos;,    &apos;age&apos;: 40 &#125;,</div><div class="line">  &#123; &apos;user&apos;: &apos;user3&apos;, &apos;age&apos;: 18 &#125;</div><div class="line">];</div><div class="line">// R.pluck(k)[array] === R.map(R.prop(k), array)</div><div class="line">var pluck1 = R.pluck(&apos;user&apos;)(users);</div><div class="line">var pluck2 = R.map(R.prop(&apos;user&apos;))(users);</div><div class="line"></div><div class="line">// compose为函数组合（从右到左）</div><div class="line">var pluck3 = R.compose(R.join(&apos;,&apos;), R.pluck(&apos;user&apos;))(users);</div><div class="line">// console.log(pluck3); // user1,user2,user3</div><div class="line">// pipe为函数组合（从左到右）</div><div class="line">var pipe1 = R.pipe(R.pluck(&apos;user&apos;), R.join(&apos;*&apos;))(users);</div><div class="line">// console.log(pipe1); // user1*user2*user3</div><div class="line"></div><div class="line">// 依次获得用户的出生年</div><div class="line">var compose1 = R.compose(R.join(&apos;,&apos;), R.map(R.subtract(new Date().getFullYear())), R.pluck(&apos;age&apos;))(users);</div><div class="line">console.log(compose1); // 1981,1977,1999</div><div class="line"></div><div class="line">// 获得最年轻的用户信息</div><div class="line">var userMin = R.compose(R.head, R.sortBy(R.prop(&apos;age&apos;)))(users);</div><div class="line">var userMax = R.compose(R.last, R.sortBy(R.prop(&apos;age&apos;)))(users);</div><div class="line">var userMax1 = R.compose(R.head, R.reverse, R.sortBy(R.prop(&apos;age&apos;)))(users);</div><div class="line">console.log(userMin, userMax); // &#123;user: &quot;user3&quot;, age: 18&#125; &#123;user: &quot;user2&quot;, age: 40&#125;</div><div class="line">console.log(userMax1); // &#123;user: &quot;user2&quot;, age: 40&#125;</div></pre></td></tr></table></figure>

**纯函数**纯函数是没有副作用的函数。它不会给任何外部变量赋值，不会获取输入，不会产生 &quot;输出&quot;，不会对数据库进行读写，不会修改输入参数等。
纯函数的基本思想是：相同的输入，永远会得到相同的输出。
**数据不变性**函数式编程的另一个重要概念是 &quot;Immutability&quot;，&quot;Immutability&quot; 是指 &quot;数据不变性&quot;。
当以 immutable 方式工作时，一旦定义了某个值或对象，以后就再也不会改变它了。这意味着不能更改已有数组中的元素或对象中的属性。
开始以函数式思维思考最简单的方式是，使用集合迭代函数代替循环。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">foreach</div><div class="line">for (const value of Array) &#123;</div><div class="line">	console.log(value);</div><div class="line">&#125;</div><div class="line">forEach(value =&gt; console.log(value), Array);</div><div class="line"></div><div class="line">map</div><div class="line">map(x =&gt; x*2, [1, 2, 3]); // [2, 4, 6]</div><div class="line"></div><div class="line">filter/reject(互补)</div><div class="line">const isEven = x =&gt; x % 2 === 0;</div><div class="line">filter(isEven, [1, 2, 3]); // [2]</div><div class="line">reject(isEven, [1, 2, 3]); // [1, 3]</div><div class="line"></div><div class="line">find</div><div class="line">find(isEven, [1, 2, 3, 4]); // 2</div><div class="line"></div><div class="line">reduce</div><div class="line">const add = (accum, value) =&gt; accum + value;	</div><div class="line">reduce(add, 5, [1, 2, 3, 4]); // 15</div></pre></td></tr></table></figure>
</code></pre><h4 id="函数组合"><a href="#函数组合" class="headerlink" title="函数组合"></a>函数组合</h4><h5 id="Complement"><a href="#Complement" class="headerlink" title="Complement"></a>Complement</h5><pre><code>Complement：对函数的返回值取反。接受一个函数 f，返回一个新函数 g。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">const isEven = x =&gt; x % 2 === 0;</div><div class="line">var complement1 = R.find(isEven, [1, 1, 2, 4]); // 2</div><div class="line">var complement2 = R.find(R.complement(isEven), [1, 2, 2, 4]); // 1</div></pre></td></tr></table></figure>
</code></pre><h5 id="Both-Either"><a href="#Both-Either" class="headerlink" title="Both/Either"></a>Both/Either</h5><pre><code>both：该函数调用两个函数，并对两函数返回值进行与（&amp;&amp;）操作。
either：该函数调用两个函数，并对两函数返回值进行或（||）操作。    
投票系统（投票资格的条件：在本国出生，或者后来加入该国国籍，且年满18岁。）
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// 判断是否有投票的权利</div><div class="line">let person1 = &#123;</div><div class="line">  birthCountry: &apos;CHINA&apos;,</div><div class="line">  naturalizationDate: false,</div><div class="line">  age: 20</div><div class="line">&#125;;</div><div class="line">const wasBornInCountry = person =&gt; person.birthCountry === &apos;CHINA&apos;;</div><div class="line">const wasNaturalized = person =&gt; Boolean(person.naturalizationDate);</div><div class="line">const isOver18 = person =&gt; person.age &gt;= 18;</div><div class="line">var isCitizen = R.either(wasBornInCountry, wasNaturalized); // 在本国出生，或者后来加入该国国籍。</div><div class="line">var isEligibleToVote = R.both(isCitizen, isOver18);</div><div class="line">var vote1 = isEligibleToVote(person1); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="Pipelines-管道"><a href="#Pipelines-管道" class="headerlink" title="Pipelines(管道)"></a>Pipelines(管道)</h5><pre><code>pipe：从左往右执行函数组合。最左边的函数可以是任意元函数（参数个数不限），其余函数必须是一元函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var multiply = (num1, num2) =&gt; num1 * num2;</div><div class="line">var addOne = num =&gt; num + 1;</div><div class="line">var square = num =&gt; num * num;</div><div class="line">var operate1 = R.pipe(multiply, addOne, square)(1, 2); // ((1*2)+1)^2 = 9</div></pre></td></tr></table></figure>

compose：从右往左执行函数组合（右侧函数的输出作为左侧函数的输入）。最右侧函数可以是任意元函数（参数个数不限），其余函数必须是一元函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var operate2 =R.compose(square, addOne, multiply)(1, 2); // 9</div></pre></td></tr></table></figure>
</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>本节学习了：函数、纯函数、IMMUTABILITY、foreach（递归替代循环）、map、filter、reject、find、reduce、
函数组合的方法：complement、either、both、pipe、compose、
</code></pre><blockquote>
<p>   参考文献：<br>    <a href="http://www.cnblogs.com/whitewolf/p/javascript-functional-programming-Ramdajs.html" target="_blank" rel="external">JavaScript函数编程-Ramdajs</a><br>    <a href="https://zhuanlan.zhihu.com/p/27446536" target="_blank" rel="external">Thinking in Ramda系列文章</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/16/ramda库的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/16/ramda库的使用/" itemprop="url">
                  ramda库的使用
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-16T20:24:01+08:00">
                2017-08-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/16/ramda库的使用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/16/ramda库的使用/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://github.com/fanerge/Ramda-study/blob/master/ramda/js/pointfree.js" target="_blank" rel="external">学习源代码地址</a></p>
<h4 id="了解Pointfree的概念"><a href="#了解Pointfree的概念" class="headerlink" title="了解Pointfree的概念"></a>了解Pointfree的概念</h4><pre><code>概念：fn = R.pipe(f1, f2, f3);
可以把数据处理的过程，定义成一种与参数无关的合成运算。
**不使用所要处理的值，只合成运算过程。**
</code></pre><h5 id="一些小例子"><a href="#一些小例子" class="headerlink" title="一些小例子"></a>一些小例子</h5><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">// pointfree例子</div><div class="line">var addOne = x =&gt; x + 1;</div><div class="line">var square = x =&gt; x * x;</div><div class="line">var addOneThenSquare = R.pipe(square, addOne);</div><div class="line">var pointfree1 = addOneThenSquare(3);</div><div class="line">console.log(pointfree1); // 10</div><div class="line">// addOneThenSquare是一个合成函数。定义它的时候，根本不需要提到要处理的值，这就是 Pointfree。</div><div class="line"></div><div class="line">var prop = (p, obj) =&gt; obj[p]; // 封装了读取操作，它需要两个参数p（属性名）和obj（对象）。</div><div class="line">var propRole = R.curry(prop)(&apos;role&apos;); // 将函数柯里化</div><div class="line">var demo1 = propRole(&#123;role: &apos;fan&apos;&#125;);</div><div class="line">console.log(demo1); // fan</div><div class="line"></div><div class="line">var data = [</div><div class="line">  &#123;name: &apos;张三&apos;, role: &apos;worker&apos;&#125;,</div><div class="line">  &#123;name: &apos;李四&apos;, role: &apos;worker&apos;&#125;,</div><div class="line">  &#123;name: &apos;王五&apos;, role: &apos;manager&apos;&#125;,</div><div class="line">];</div><div class="line">var isWorker = r =&gt; r === &apos;worker&apos;;</div><div class="line">var getWorkers = R.filter(R.pipe(R.prop(&apos;role&apos;), isWorker));</div><div class="line">var demo2 = getWorkers(data);</div><div class="line">// console.log(demo2); </div><div class="line">// [</div><div class="line">//   &#123;&quot;name&quot;: &quot;张三&quot;, &quot;role&quot;: &quot;worker&quot;&#125;,</div><div class="line">//   &#123;&quot;name&quot;: &quot;李四&quot;, &quot;role&quot;: &quot;worker&quot;&#125;</div><div class="line">// ]</div></pre></td></tr></table></figure>
</code></pre><h5 id="Pointfree示例一"><a href="#Pointfree示例一" class="headerlink" title="Pointfree示例一"></a>Pointfree示例一</h5><pre><code>**求下面字符串，请问其中最长的单词有多少个字符？**
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">var str = &apos;Lorem ipsum dolor sit amet consectetur adipiscing elit&apos;;</div><div class="line">// 以空格分割单词</div><div class="line">var splitBySpace = s =&gt; s.split(&apos; &apos;);</div><div class="line">// 获得每个单词的长度</div><div class="line">var getLength = w =&gt; w.length;</div><div class="line">// 单词数组转化为单词长度的数组</div><div class="line">var getLengArr = arr =&gt; R.map(getLength, arr);</div><div class="line">// 返回较大的数字</div><div class="line">var getBiggerNumber = (a, b) =&gt; a &gt; b ? a : b;</div><div class="line">// 返回最大的一个数字</div><div class="line">var findBiggestNumber = arr =&gt; R.reduce(getBiggerNumber, 0, arr);</div><div class="line"></div><div class="line">var getLongestWordLength = R.pipe(  </div><div class="line">	splitBySpace,</div><div class="line">	getLengArr,</div><div class="line">	findBiggestNumber</div><div class="line">  );</div><div class="line">var demo3 = getLongestWordLength(str);</div><div class="line">console.log(demo3); // 11</div><div class="line"></div><div class="line">// 使用ramda库</div><div class="line">var getLongestWordLength = R.pipe(</div><div class="line">	R.split(&apos; &apos;),</div><div class="line">	R.map(R.length),</div><div class="line">	R.reduce(R.max, 0)</div><div class="line">  );</div><div class="line">var demo3 = getLongestWordLength(str);</div><div class="line">// console.log(demo3); // 11</div></pre></td></tr></table></figure>
</code></pre><h4 id="Pointfree-示例二"><a href="#Pointfree-示例二" class="headerlink" title="Pointfree 示例二"></a>Pointfree 示例二</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">// 下面是一段服务器返回的 JSON 数据。</div><div class="line">var data = &#123;</div><div class="line">	result: &quot;SUCCESS&quot;,</div><div class="line">	interfaceVersion: &quot;1.0.3&quot;,</div><div class="line">	requested: &quot;10/17/2013 15:31:20&quot;,</div><div class="line">	lastUpdated: &quot;10/16/2013 10:52:39&quot;,</div><div class="line">	tasks: [</div><div class="line">		&#123;id: 104, complete: false,            priority: &quot;high&quot;,</div><div class="line">				  dueDate: &quot;2013-11-29&quot;,      username: &quot;Scott&quot;,</div><div class="line">				  title: &quot;Do something&quot;,      created: &quot;9/22/2013&quot;&#125;,</div><div class="line">		&#123;id: 105, complete: false,            priority: &quot;medium&quot;,</div><div class="line">				  dueDate: &quot;2013-11-22&quot;,      username: &quot;Lena&quot;,</div><div class="line">				  title: &quot;Do something else&quot;, created: &quot;9/22/2013&quot;&#125;,</div><div class="line">		&#123;id: 107, complete: true,             priority: &quot;high&quot;,</div><div class="line">				  dueDate: &quot;2013-11-22&quot;,      username: &quot;Mike&quot;,</div><div class="line">				  title: &quot;Fix the foo&quot;,       created: &quot;9/22/2013&quot;&#125;,</div><div class="line">		&#123;id: 108, complete: false,            priority: &quot;low&quot;,</div><div class="line">				  dueDate: &quot;2013-11-15&quot;,      username: &quot;Punam&quot;,</div><div class="line">				  title: &quot;Adjust the bar&quot;,    created: &quot;9/25/2013&quot;&#125;,</div><div class="line">		&#123;id: 110, complete: false,            priority: &quot;medium&quot;,</div><div class="line">				  dueDate: &quot;2013-11-15&quot;,      username: &quot;Scott&quot;,</div><div class="line">				  title: &quot;Rename everything&quot;, created: &quot;10/2/2013&quot;&#125;,</div><div class="line">		&#123;id: 112, complete: true,             priority: &quot;high&quot;,</div><div class="line">				  dueDate: &quot;2013-11-27&quot;,      username: &quot;Lena&quot;,</div><div class="line">				  title: &quot;Alter all quuxes&quot;,  created: &quot;10/5/2013&quot;&#125;</div><div class="line">	]</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var fetchData = function (data) &#123;</div><div class="line">  return Promise.resolve(data);</div><div class="line">&#125;;</div><div class="line">// 提取 tasks 属性</div><div class="line">var SelectTasks = R.prop(&apos;tasks&apos;);</div><div class="line"></div><div class="line">// 过滤出指定的用户</div><div class="line">var filterMember = member =&gt; R.filter(</div><div class="line">  R.propEq(&apos;username&apos;, member)</div><div class="line">  );</div><div class="line"></div><div class="line">// 排除已经完成的任务</div><div class="line">var excludeCompletedTasks = R.reject(R.propEq(&apos;complete&apos;, true));</div><div class="line"></div><div class="line">// 选取指定属性</div><div class="line">var selectFields = R.map(</div><div class="line">	R.pick([&apos;id&apos;, &apos;dueDate&apos;, &apos;title&apos;, &apos;priority&apos;])</div><div class="line">  );</div><div class="line"></div><div class="line">// 按照到期日期排序</div><div class="line">var sortByDueDate = R.sortBy(R.prop(&apos;dueDate&apos;));</div><div class="line"></div><div class="line">// 合成函数</div><div class="line">var getIncompleteTaskSummaries = function (membername) &#123;</div><div class="line">  return fetchData(data)</div><div class="line">  .then(R.prop(&apos;tasks&apos;))</div><div class="line">  .then(R.filter(R.propEq(&apos;username&apos;, membername)))</div><div class="line">  .then(R.reject(R.propEq(&apos;complete&apos;, true)))</div><div class="line">  .then(R.map(R.pick([&apos;id&apos;, &apos;dueData&apos;, &apos;title&apos;, &apos;priority&apos;])))</div><div class="line">  .then(R.sortBy(R.prop(&apos;dueData&apos;)));</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var scottList = getIncompleteTaskSummaries(&apos;Scott&apos;);</div><div class="line">console.log(scottList);	</div><div class="line">[[object Object] &#123;</div><div class="line">  dueDate: &quot;2013-11-15&quot;,</div><div class="line">  id: 110,</div><div class="line">  priority: &quot;medium&quot;,</div><div class="line">  title: &quot;Rename everything&quot;</div><div class="line">&#125;, [object Object] &#123;</div><div class="line">  dueDate: &quot;2013-11-29&quot;,</div><div class="line">  id: 104,</div><div class="line">  priority: &quot;high&quot;,</div><div class="line">  title: &quot;Do something&quot;</div><div class="line">&#125;]</div></pre></td></tr></table></figure>
</code></pre><blockquote>
<p>   参考文档：<br><a href="http://www.ruanyifeng.com/blog/2017/03/pointfree.html" target="_blank" rel="external">阮老师–Pointfree 编程风格指南</a><br><a href="http://ramda.cn/" target="_blank" rel="external">Ramda 中文</a>    </p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/13/Ramda库学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/13/Ramda库学习/" itemprop="url">
                  Ramda库学习
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-13T19:28:31+08:00">
                2017-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/13/Ramda库学习/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/13/Ramda库学习/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://github.com/fanerge/Ramda-study.git" target="_blank" rel="external">学习源代码</a><br>经过4个晚上的学习，了解了ramda库120多个api的用法，下一步继续深入学习函数式编程。<br>继续学习js函数式编程，这里贴出阮老师总结的Ramda的优点：</p>
<pre><code>1.    Ramda 的数据一律放在最后一个参数，理念是&quot;function first，data last&quot;。
2.    所有方法都支持柯里化。
</code></pre><h4 id="一、比较运算（gt、gte、lt、lte、eauals、eqBy）"><a href="#一、比较运算（gt、gte、lt、lte、eauals、eqBy）" class="headerlink" title="一、比较运算（gt、gte、lt、lte、eauals、eqBy）"></a>一、比较运算（gt、gte、lt、lte、eauals、eqBy）</h4><pre><code>gt：判断第一个参数是否大于第二个参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let gt1 = R.gt(2)(1);</div><div class="line">// console.log(gt1); true</div><div class="line">let gt2 = R.gt(&apos;a&apos;)(&apos;c&apos;);</div><div class="line">// console.log(gt2); false</div></pre></td></tr></table></figure>

gte：判断第一个参数是否大于等于第二个参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let gte1 = R.gte(2)(2);</div><div class="line">// console.log(gte1); true</div><div class="line">let gte2 = R.gte(&apos;a&apos;)(&apos;c&apos;);</div><div class="line">// console.log(gte2); false</div></pre></td></tr></table></figure>

lt：判断第一个参数是否小于第二个参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let lt1 = R.lt(2)(1);</div><div class="line">// console.log(lt1); false</div><div class="line">let lt2 = R.lt(&apos;a&apos;)(&apos;z&apos;);</div><div class="line">// console.log(lt2); true</div></pre></td></tr></table></figure>

lte：判断第一个参数是否小于等于第二个参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let lte1 = R.lte(1)(2);</div><div class="line">// console.log(lte1); true</div><div class="line">let lte2 = R.lte(&apos;a&apos;)(&apos;v&apos;);</div><div class="line">// console.log(lte2); true</div></pre></td></tr></table></figure>

eauals：比较两个值是否相等（支持对象的比较）。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">let equals1 = R.equals(1)(1);</div><div class="line">// console.log(equals1); true</div><div class="line">let equals2 = R.equals(1)(&apos;1&apos;);</div><div class="line">// console.log(equals2); false</div><div class="line">let equals3 = R.equals([1, 2])([1,2]);</div><div class="line">// console.log(equals3); // true</div><div class="line">let equals4 = R.equals(&#123;a:1&#125;)(&#123;a:2&#125;);</div><div class="line">// console.log(equals4); // false</div></pre></td></tr></table></figure>

eqBy：比较两个值传入指定函数的运算结果是否相等。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let eqBy1 = R.eqBy(Math.abs, 5, -5);</div><div class="line">console.log(eqBy1);</div></pre></td></tr></table></figure>
</code></pre><h4 id="二、数学运算（add、subtract、multiply、divide）"><a href="#二、数学运算（add、subtract、multiply、divide）" class="headerlink" title="二、数学运算（add、subtract、multiply、divide）"></a>二、数学运算（add、subtract、multiply、divide）</h4><pre><code>add：返回两个值的和。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let add1 = R.add(1)(10);</div><div class="line">// console.log(add1); // 11</div></pre></td></tr></table></figure>

subtract：返回第一个参数减去第二个参数的差。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let subtract1 = R.subtract(10)(2);</div><div class="line">//console.log(subtract1); // 8</div></pre></td></tr></table></figure>

multiply：返回两个值的积。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let multiply1 = R.multiply(5)(6);</div><div class="line">// console.log(multiply1); // 30</div></pre></td></tr></table></figure>

divide：返回第一个参数除以第二个参数的商。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let divide1 = R.divide(5)(10);</div><div class="line">// console.log(divide1); // 0.5</div></pre></td></tr></table></figure>
</code></pre><h4 id="三、逻辑运算（either、both、allPass）"><a href="#三、逻辑运算（either、both、allPass）" class="headerlink" title="三、逻辑运算（either、both、allPass）"></a>三、逻辑运算（either、both、allPass）</h4><pre><code>either：接收两个参数，相当于 || 运算（或）。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">let gt10 = x =&gt; x &gt; 10;</div><div class="line">let even = x =&gt; x % 2 === 0;</div><div class="line">let either1 = R.either(gt10)(even);</div><div class="line">let either2 = either1(18);</div><div class="line">let either3 = either1(3);</div><div class="line">// console.log(either2); // true</div><div class="line">//console.log(either3); // false</div></pre></td></tr></table></figure>

both：接收两个参数，相当于 &amp;&amp; 运算（且）。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var gt10 = x =&gt; x &gt; 10;</div><div class="line">var even = x =&gt; x % 2 === 0;</div><div class="line">let both1 = R.both(gt10)(even);</div><div class="line">let both2 = both1(18);</div><div class="line">let both3 = both1(4);</div><div class="line">// console.log(both2); // true</div><div class="line">// console.log(both3); // false</div></pre></td></tr></table></figure>

allPass：接受一个函数数组作为参数，只有它们都返回true，才返回true，否则返回false。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var gt10 = x =&gt; x &gt; 10;</div><div class="line">var lt20 = x =&gt; x &lt; 20;</div><div class="line">var even = x =&gt; x % 2 === 0;</div><div class="line">let allPass1 = R.allPass([gt10, even, lt20]);</div><div class="line">let allPass2 = allPass1(16);</div><div class="line">let allPass3 = both1(13);</div><div class="line">console.log(allPass2); // true</div><div class="line">console.log(allPass3); // false</div></pre></td></tr></table></figure>
</code></pre><h4 id="四、字符串（split、test、match）"><a href="#四、字符串（split、test、match）" class="headerlink" title="四、字符串（split、test、match）"></a>四、字符串（split、test、match）</h4><pre><code>split：按照指定分隔符将字符串拆成一个数组。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let split1 = R.split(&apos;.&apos;)(&apos;a.b.c.fanerge&apos;);</div><div class="line">// console.log(split1); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;fanerge&quot;]</div></pre></td></tr></table></figure>

test：判断一个字符串是否匹配给定的正则表达式。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let test1 = R.test(/^f/)(&apos;fanerge&apos;);</div><div class="line">// console.log(test1); // true</div></pre></td></tr></table></figure>

match：返回一个字符串的匹配结果。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">let match1 = R.match(/([a-z]a)/g)(&apos;bananas&apos;)</div><div class="line">// console.log(match1); // [&quot;ba&quot;, &quot;na&quot;, &quot;na&quot;]</div><div class="line">let match2 = R.match(/a/)(&apos;n&apos;);</div><div class="line">// console.log(match2); // []</div></pre></td></tr></table></figure>
</code></pre><h4 id="五、函数"><a href="#五、函数" class="headerlink" title="五、函数"></a>五、函数</h4><h5 id="5-1-函数的合成（compose、pipe、converge）"><a href="#5-1-函数的合成（compose、pipe、converge）" class="headerlink" title="5.1 函数的合成（compose、pipe、converge）"></a>5.1 函数的合成（compose、pipe、converge）</h5><pre><code>compose：将多个函数合并成一个函数，从右到左执行
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let compose1 = R.compose(Math.abs, R.add(1), R.multiply(2))(4)</div><div class="line">console.log(compose1); // 9</div></pre></td></tr></table></figure>

pipe：将多个函数合并成一个函数，从左到右执行。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let pipe1 = R.pipe(Math.abs, R.add(1), R.multiply(2))(4);</div><div class="line">console.log(pipe1); // 10</div></pre></td></tr></table></figure>

converge：接受两个参数，第一个参数是函数，第二个参数是函数数组。传入的值先使用第二个参数包含的函数分别处理以后，再用第一个参数处理前一步生成的结果。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var sumOfArr = arr =&gt; &#123;</div><div class="line">	let sum = 0;</div><div class="line">	arr.forEach(i =&gt; sum += i);</div><div class="line">	return sum;</div><div class="line">&#125;;</div><div class="line">var lengthArr = arr =&gt; arr.length;</div><div class="line">var converge1 = R.converge(R.divide, [sumOfArr, lengthArr]);</div><div class="line">var converge2 = converge1([1, 2, 3, 4, 5]);</div><div class="line">// console.log(converge2); // 3</div></pre></td></tr></table></figure>
</code></pre><h4 id="5-2-柯里化（curry、partial、partialRight、useWith、memoize、complement）"><a href="#5-2-柯里化（curry、partial、partialRight、useWith、memoize、complement）" class="headerlink" title="5.2 柯里化（curry、partial、partialRight、useWith、memoize、complement）"></a>5.2 柯里化（curry、partial、partialRight、useWith、memoize、complement）</h4><pre><code>curry：将多个参数的函数，转化成单参数的形式。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var addFourNumbers = (a, b, c, d) =&gt; a + b + c + d;</div><div class="line">var curriedAddFourNumbers = R.curry(addFourNumbers);</div><div class="line">var f = curriedAddFourNumbers(1)(2)(3)(4);</div><div class="line">// console.log(f); // 10</div></pre></td></tr></table></figure>

partial：允许多参数的函数接受一个数组，指定最左边的部分参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var multiply2 = (a, b) =&gt; a * b;</div><div class="line">var double = R.partial(multiply2, [3]);</div><div class="line">// console.log(double(2)); // 6</div></pre></td></tr></table></figure>

partialRight：与partial类似，但数组指定的参数为最右边的参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var greet = (salutation, title, firstName, lastName) =&gt;</div><div class="line">  salutation + &apos;, &apos; + title + &apos; &apos; + firstName + &apos; &apos; + lastName + &apos;!&apos;;</div><div class="line">var greetMsJaneJones = R.partialRight(greet, [&apos;Ms.&apos;, &apos;Jane&apos;, &apos;Jones&apos;]);</div><div class="line">var dd = greetMsJaneJones(&apos;Hello&apos;); </div><div class="line">console.log(dd); // &apos;Hello, Ms. Jane Jones!&apos;</div></pre></td></tr></table></figure>

useWith：接受一个函数fn和一个函数数组fnList作为参数，返回fn的柯里化版本。该新函数的参数，先分别经过对应的fnList成员处理，再传入fn执行。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var decreaseOne = x =&gt; x - 1;</div><div class="line">var increaseOne = x =&gt; x + 1;</div><div class="line">var useWith1 = R.useWith(Math.pow, [decreaseOne, increaseOne])(3)(4);</div><div class="line">console.log(useWith1) // 2^5 32</div></pre></td></tr></table></figure>

memoize：返回一个函数，会缓存每一次的运行结果。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var productOfArr = arr =&gt; &#123;</div><div class="line">  var product = 1;</div><div class="line">  arr.forEach(i =&gt; product *= i);</div><div class="line">  return product;</div><div class="line">&#125;;</div><div class="line">var count = 0;</div><div class="line">var factorial = R.memoize(n =&gt; &#123;</div><div class="line">  count += 1;</div><div class="line">  return productOfArr(R.range(1, n + 1));</div><div class="line">&#125;);</div><div class="line">var memoize1 = factorial(5);</div><div class="line">console.log(memoize1, count); // 120, 1</div></pre></td></tr></table></figure>

complement：返回一个新函数，如果原函数返回true，该函数返回false；如果原函数返回false，该函数返回true。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var gt10 = x =&gt; x &gt; 10;</div><div class="line">var lte10 = R.complement(gt10);</div><div class="line">var complement1 = lte10(11);</div><div class="line">// console.log(complement1); // false</div></pre></td></tr></table></figure>
</code></pre><h4 id="5-3-函数的执行（binary、tap、zipWith、apply、applySpec、ascend、descend）"><a href="#5-3-函数的执行（binary、tap、zipWith、apply、applySpec、ascend、descend）" class="headerlink" title="5.3 函数的执行（binary、tap、zipWith、apply、applySpec、ascend、descend）"></a>5.3 函数的执行（binary、tap、zipWith、apply、applySpec、ascend、descend）</h4><pre><code>binary：参数函数执行时，只传入最前面两个参数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var takesThreeArgs = function (a, b, c) &#123;</div><div class="line">	return [a, b, c];</div><div class="line">&#125;;</div><div class="line">var takesTwoArgs = R.binary(takesThreeArgs);</div><div class="line">var binary1 = takesTwoArgs(1, 2, 3);</div><div class="line">// console.log(binary1); // [1, 2, undefined]</div></pre></td></tr></table></figure>

tap：将一个值传入指定函数，并返回该值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var sayX = x =&gt; console.log(&apos;x is&apos; + x);</div><div class="line">var tap1 = R.tap(sayX)(100);</div><div class="line">// console.log(tap1); // x is100 100</div></pre></td></tr></table></figure>

zipWith：将两个数组对应位置的值，一起作为参数传入某个函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var f = (x, y) =&gt; &#123;</div><div class="line">	return x + y;</div><div class="line">&#125;;</div><div class="line">var zipWith1 = R.zipWith(f)([1, 2, 3])([4, 5, 6]);</div><div class="line">// console.log(zipWith1); // [5, 7, 9]</div></pre></td></tr></table></figure>

apply：将数组转成参数序列，传入指定函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var nums = [1, 2, 3, -99, 42, 6, 7];</div><div class="line">var apply1 = R.apply(Math.max)(nums);</div><div class="line">// console.log(apply1); // 42</div></pre></td></tr></table></figure>

applySpec：返回一个模板函数，该函数会将参数传入模板内的函数执行，然后将执行结果填充到模板。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var getMetrics = R.applySpec(&#123;</div><div class="line">	sum: R.add,</div><div class="line">	nested: &#123;mul: R.multiply&#125;</div><div class="line">&#125;);</div><div class="line">var applySpec1 = getMetrics(2, 4);</div><div class="line">//console.log(applySpec1); // &#123; sum: 6, nested: &#123; mul: 8 &#125; &#125;</div></pre></td></tr></table></figure>

ascend：返回一个升序排列的比较函数，主要用于排序。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var byAge = R.ascend(R.prop(&apos;age&apos;));</div><div class="line">var people = [</div><div class="line">	&#123;name: &apos;fan&apos;, age: 11&#125;,</div><div class="line">	&#123;name: &apos;yu&apos;, age: 8&#125;,</div><div class="line">	&#123;name: &apos;zhen&apos;, age: 9&#125;</div><div class="line">];</div><div class="line">var ascend1 = R.sort(byAge)(people);</div><div class="line">// console.log(ascend1); // [ &#123;name: &apos;yu&apos;, age: 8&#125;, &#123;name: &apos;zhen&apos;, age: 9&#125;, name: &apos;fan&apos;, age: 11&#125;];</div></pre></td></tr></table></figure>

ascend：返回一个升序排列的比较函数，主要用于排序。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var byAge = R.descend(R.prop(&apos;age&apos;));</div><div class="line">var people = [</div><div class="line">	&#123;name: &apos;fan&apos;, age: 11&#125;,</div><div class="line">	&#123;name: &apos;yu&apos;, age: 8&#125;,</div><div class="line">	&#123;name: &apos;zhen&apos;, age: 9&#125;</div><div class="line">];</div><div class="line">var descend1 = R.sort(byAge)(people);</div><div class="line">// console.log(descend1); // [ &#123;name: &apos;fan&apos;, age: 11&#125;, &#123;name: &apos;zhen&apos;, age: 9&#125;, &#123;name: &apos;yu&apos;, age: 8&#125;];</div></pre></td></tr></table></figure>
</code></pre><h4 id="六、数组"><a href="#六、数组" class="headerlink" title="六、数组"></a>六、数组</h4><h5 id="6-1-数组的特性判断（contains、all、any、none）"><a href="#6-1-数组的特性判断（contains、all、any、none）" class="headerlink" title="6.1 数组的特性判断（contains、all、any、none）"></a>6.1 数组的特性判断（contains、all、any、none）</h5><pre><code>contains：如果包含某个成员，返回true。        
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var contains1 = R.contains(3)([1,2]);</div><div class="line">// console.log(contains1); // false</div></pre></td></tr></table></figure>

contains：如果包含某个成员，返回true。        
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var contains1 = R.contains(3)([1,2]);</div><div class="line">var contains2 = R.contains(&#123;name: &apos;fan&apos;&#125;)([&#123;name: &apos;fan&apos;&#125;,2]);</div><div class="line">// console.log(contains1); // false</div><div class="line">// console.log(contains2); // true</div></pre></td></tr></table></figure>

all：所有成员都满足指定函数时，返回true，否则返回false        
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var equals3 = R.equals(3);</div><div class="line">var all1 = R.all(equals3)([3, 3]);</div><div class="line">// console.log(all1); // true</div></pre></td></tr></table></figure>

any：只要有一个成员满足条件，就返回true。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var lessThan0 = R.flip(R.lt)(0);</div><div class="line">var lessThan2 = R.flip(R.lt)(2);</div><div class="line">var any1 = R.any(lessThan0)([1, 2]);</div><div class="line">// console.log(any1); // false</div><div class="line">var any2 = R.any(lessThan2)([1, 2]);</div><div class="line">// console.log(any2); // true</div></pre></td></tr></table></figure>

none：没有成员满足条件时，返回true。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var isEven = n =&gt; n % 2 === 0;</div><div class="line">var none1 = R.none(isEven)([1, 3, 5, 7, 9, 11]) // true</div><div class="line">var none2 = R.none(isEven)([1, 3, 5, 7, 8, 11]) // false</div><div class="line">console.log(none2); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="6-2-数值的截取和添加（head、last、tail、init、nth、take、slice、remove、insert、insertAll、prepend、append、intersperse、join）"><a href="#6-2-数值的截取和添加（head、last、tail、init、nth、take、slice、remove、insert、insertAll、prepend、append、intersperse、join）" class="headerlink" title="6.2 数值的截取和添加（head、last、tail、init、nth、take、slice、remove、insert、insertAll、prepend、append、intersperse、join）"></a>6.2 数值的截取和添加（head、last、tail、init、nth、take、slice、remove、insert、insertAll、prepend、append、intersperse、join）</h5><pre><code>head：返回数组的第一个成员。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var head1 = R.head([1, 2, 3]);</div><div class="line">// console.log(head1); // 1</div></pre></td></tr></table></figure>

last：返回数组的最后一个成员。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var last1 = R.last(&apos;fan&apos;);</div><div class="line">console.log(last1); // n</div></pre></td></tr></table></figure>

tail：返回第一个成员以外的所有成员组成的新数组。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var tail1 = R.tail([1, 2, 3]);</div><div class="line">// console.log(tail1);  // [2, 3]</div></pre></td></tr></table></figure>

init：返回最后一个成员以外的所有成员组成的新数组。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var init1 = R.init([1, 2, 3]);</div><div class="line">// console.log(init1);  // [1, 2]</div></pre></td></tr></table></figure>

nth：取出指定位置的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var list = [1, 2, 3, 4];</div><div class="line">var nth1 = R.nth(0)(list);</div><div class="line">// console.log(nth1); // 1</div></pre></td></tr></table></figure>

take：取出前 n 个成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var take1 = R.take(3)([1, 2, 3, 4]);</div><div class="line">// console.log(take1); // [1, 2, 3]</div></pre></td></tr></table></figure>

takeLast：取出后 n 个成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var takeLast1 = R.takeLast(3)([1, 2, 3, 4]);</div><div class="line">// console.log(takeLast1); // [2, 3, 4]</div></pre></td></tr></table></figure>

slice：从起始位置（包括）开始，到结束位置（不包括）为止，从原数组截取出一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var slice1 = R.slice(1, 3)([1, 2, 3, 4]);</div><div class="line">// console.log(slice1); // [2, 3]</div></pre></td></tr></table></figure>

remove：移除开始位置后的n个成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var remove1 = R.remove(2, 3)([1, 2, 3, 4, 5, 6, 7, 8]);</div><div class="line">// console.log(remove1); // [1, 2, 6, 7, 8]</div></pre></td></tr></table></figure>

insert：在指定位置插入给定值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var insert1 = R.insert(2, &apos;x&apos;)([1, 2, 3]);</div><div class="line">// console.log(insert1); // [1, 2, &quot;x&quot;, 3]</div></pre></td></tr></table></figure>

insertAll：在指定位置，插入另一个数组的所有成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var insertAll1 = R.insertAll(2, [&apos;x&apos;, &apos;y&apos;, &apos;z&apos;])([1, 2, 3, 4]);</div><div class="line">// console.log(insertAll1); // [1, 2, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;, 3, 4]</div></pre></td></tr></table></figure>

prepend：在数组头部插入一个成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var prepend1 = R.prepend(&apos;fee&apos;)([&apos;ss&apos;, &apos;ee&apos;]);</div><div class="line">// console.log(prepend1); // [&quot;fee&quot;, &quot;ss&quot;, &quot;ee&quot;]</div></pre></td></tr></table></figure>

append：在数组尾部追加新的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var append1 = R.append(&apos;test&apos;)([&apos;ss&apos;]);</div><div class="line">// console.log(append1); // [&quot;ss&quot;, &quot;test&quot;]</div></pre></td></tr></table></figure>

intersperse：在数组成员之间插入表示分隔的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var intersperse1 = R.intersperse(&apos;/&apos;)([&apos;aa&apos;, &apos;bb&apos;, &apos;cc&apos;]);</div><div class="line">// console.log(intersperse1); // [&quot;aa&quot;, &quot;/&quot;, &quot;bb&quot;, &quot;/&quot;, &quot;cc&quot;]</div></pre></td></tr></table></figure>

join：将数组合并成一个字符串，并在成员之间插入分隔符。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var join1 = R.join(&apos;|&apos;)([1, 2, 3]);</div><div class="line">// console.log(join1); // 1|2|3</div></pre></td></tr></table></figure>
</code></pre><h5 id="6-3-数组的过滤（filter、reject、takeWhile、dropWhile、without）"><a href="#6-3-数组的过滤（filter、reject、takeWhile、dropWhile、without）" class="headerlink" title="6.3 数组的过滤（filter、reject、takeWhile、dropWhile、without）"></a>6.3 数组的过滤（filter、reject、takeWhile、dropWhile、without）</h5><pre><code>filter：过滤出符合条件的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isEven = n =&gt; n % 2 === 0;</div><div class="line">var filter1 = R.filter(isEven)([1, 2, 3]);</div><div class="line">// console.log(filter1); // [2]</div></pre></td></tr></table></figure>

reject：过滤出所有不满足条件的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isEven = n =&gt; n % 2 === 0;</div><div class="line">var reject1 = R.reject(isEven)([1, 2, 3]);</div><div class="line">// console.log(reject1); // [1, 3]</div></pre></td></tr></table></figure>

takeWhile：一旦满足条件，取出前面的所有成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isNotFour = x =&gt; x !== 4;</div><div class="line">var takeWhile1 = R.takeWhile(isNotFour)([1, 2, 3, 4, 3])</div><div class="line">// console.log(takeWhile1); // [1, 2, 3]</div></pre></td></tr></table></figure>

dropWhile：一旦满足条件，取出剩余的所有成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var lteTwo = x =&gt; x &lt;= 2;</div><div class="line">var dropWhile1 = R.dropWhile(lteTwo)([1, 2, 3, 4, 3, 2, 1]);</div><div class="line">// console.log(dropWhile1); // [3, 4, 3, 2, 1]</div></pre></td></tr></table></figure>

without：返回指定值以外的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var without1 = R.without([1, 2])([1, 2, 1, 3, 4]);</div><div class="line">// console.log(without1); // [3, 4]</div></pre></td></tr></table></figure>
</code></pre><h5 id="6-4-单数组运算（countBy、splitAt、splitEvery、splitWhen、aperture、partition、indexOf、lastIndexOf、map、mapIndexed、forEach、reduce、reduceRight、reduceWhile、sort、sortWith、adjust、ap、flatten、groupWith）"><a href="#6-4-单数组运算（countBy、splitAt、splitEvery、splitWhen、aperture、partition、indexOf、lastIndexOf、map、mapIndexed、forEach、reduce、reduceRight、reduceWhile、sort、sortWith、adjust、ap、flatten、groupWith）" class="headerlink" title="6.4 单数组运算（countBy、splitAt、splitEvery、splitWhen、aperture、partition、indexOf、lastIndexOf、map、mapIndexed、forEach、reduce、reduceRight、reduceWhile、sort、sortWith、adjust、ap、flatten、groupWith）"></a>6.4 单数组运算（countBy、splitAt、splitEvery、splitWhen、aperture、partition、indexOf、lastIndexOf、map、mapIndexed、forEach、reduce、reduceRight、reduceWhile、sort、sortWith、adjust、ap、flatten、groupWith）</h5><pre><code>countBy：对每个成员执行指定函数以后，返回一个对象，表示各种执行结果分别包含多少成员。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var numbers = [1.0, 1.1, 1.2, 2.0, 3.0, 2.2];</div><div class="line">var countBy1 = R.countBy(Math.floor)(numbers);</div><div class="line">// console.log(countBy1); // &#123;1: 3, 2: 2, 3: 1&#125;</div></pre></td></tr></table></figure>

splitAt：在给定位置，将原数组分成两个部分。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var splitAt1 = R.splitAt(1)([1, 2, 3]);</div><div class="line">// console.log(splitAt1); // [[1],[2, 3]]</div></pre></td></tr></table></figure>

splitEvery：按照指定的个数，将原数组分成多个部分。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var splitEvery1 = R.splitEvery(3)([1, 2, 3, 4, 5, 6, 7]);</div><div class="line">// console.log(splitEvery1); // [[1, 2, 3], [4, 5, 6], [7]]</div></pre></td></tr></table></figure>

splitWhen：以第一个满足指定函数的成员为界，将数组分成两个部分。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var splitEvery1 = R.splitEvery(3)([1, 2, 3, 4, 5, 6, 7]);</div><div class="line">// console.log(splitEvery1); // [[1, 2, 3], [4, 5, 6], [7]]</div></pre></td></tr></table></figure>

aperture：每个成员与其后给定数量的成员分成一组，这些组构成一个新的数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var aperture1 = R.aperture(3)([1, 2, 3, 4, 5, 6, 7]);</div><div class="line">// console.log(aperture1); // [[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6], [5, 6, 7]]</div></pre></td></tr></table></figure>

partition：根据是否满足指定函数，将成员分区。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var partition1 = R.partition(R.contains(&apos;s&apos;))([&apos;aaa&apos;, &apos;bbb&apos;, &apos;sss&apos;]);</div><div class="line">// console.log(partition1); // [[&apos;sss&apos;], [&quot;aaa&quot;, &quot;bbb&quot;]]</div></pre></td></tr></table></figure>

indexOf：某个值在数组中第一次出现的位置。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var indexOf1 = R.indexOf(3)([1, 2, 3, 4]);</div><div class="line">// console.log(indexOf1); // 2</div></pre></td></tr></table></figure>

lastIndexOf：某个值在数组中最后一次出现的位置。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var lastIndexOf1 = R.lastIndexOf(3)([-1, 3, 3, 0, 1, 2, 3, 4]);</div><div class="line">// console.log(lastIndexOf1); // 6</div></pre></td></tr></table></figure>

map：数组的每个成员依次执行某个函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var double = x =&gt; x * 2;</div><div class="line">var map1 = R.map(double)([1, 2, 3]);</div><div class="line">// console.log(map1); // [2, 4, 6]</div></pre></td></tr></table></figure>

mapIndexed：与map类似，区别是遍历函数可以额外获得两个参数：索引位置和原数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var mapIndexed = R.addIndex(R.map);</div><div class="line">var mapIndex1 = mapIndexed((val, idx) =&gt; idx + &apos;-&apos; + val, [&apos;f&apos;, &apos;o&apos;, &apos;o&apos;, &apos;b&apos;, &apos;a&apos;, &apos;r&apos;]);</div><div class="line">// console.log(mapIndex1); // [&quot;0-f&quot;, &quot;1-o&quot;, &quot;2-o&quot;, &quot;3-b&quot;, &quot;4-a&quot;, &quot;5-r&quot;]</div></pre></td></tr></table></figure>

forEach：数组的每个成员依次执行某个函数，总是返回原数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var printXPlusFive = x =&gt; console.log(x + 5);</div><div class="line">var forEach1 = R.forEach(printXPlusFive, [1, 2, 3]); </div><div class="line">// console.log(forEach1); // [1, 2, 3]</div></pre></td></tr></table></figure>

reduce：数组成员依次执行指定函数，每一次的运算结果都会进入一个累积变量。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var mySubtract = function (a, b) &#123;</div><div class="line">	return a - b;</div><div class="line">&#125;;</div><div class="line">var reduce1 = R.reduce(mySubtract, 0)([1, 2, 3, 4]);</div><div class="line">// console.log(reduce1); // -10</div></pre></td></tr></table></figure>

reduceRight：与reduce类似，区别是数组成员从左到右执行。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var reduceRight1 = R.reduceRight(R.subtract, 0)([1, 2, 3, 4]);</div><div class="line">// console.log(reduceRight1); // -2</div></pre></td></tr></table></figure>

reduceWhile：与reduce类似，区别是有一个判断函数，一旦数组成员不符合条件，就停止累积。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var isOdd = (acc, x) =&gt; x % 2 === 1;</div><div class="line">var ys = [2, 4, 6];</div><div class="line">var reduceWhile1 = R.reduceWhile(isOdd, R.add, 111)(ys);</div><div class="line">// console.log(reduceWhile1); // 111</div></pre></td></tr></table></figure>

sort：按照给定函数，对数组进行排序。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var diff = function (a, b) &#123; return a -b; &#125;;</div><div class="line">var sort1 = R.sort(diff)([4, 2, 7, 5]);</div><div class="line">// console.log(sort1); // [2, 4, 5, 7]</div></pre></td></tr></table></figure>

sortWith：按照给定的一组函数，进行多重排序。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var alice = &#123;</div><div class="line">	name: &apos;alice&apos;,</div><div class="line">	age: 40</div><div class="line">&#125;;</div><div class="line">var bob = &#123;</div><div class="line">	name: &apos;bob&apos;,</div><div class="line">	age: 30</div><div class="line">&#125;;</div><div class="line">var clara = &#123;</div><div class="line">	name: &apos;clara&apos;,</div><div class="line">	age: 40</div><div class="line">&#125;;</div><div class="line">var people = [clara, bob, alice];</div><div class="line">var ageNameSort = R.sortWith([</div><div class="line">		// R.descend(R.prop(&apos;age&apos;)),</div><div class="line">		R.ascend(R.prop(&apos;name&apos;))</div><div class="line">	]);</div><div class="line">var sortWith1 = ageNameSort(people);</div><div class="line">console.log(sortWith1); // [&#123;name: &quot;alice&quot;, age: 40&#125;, &#123;name: &quot;bob&quot;, age: 30&#125;, &#123;name: &quot;clara&quot;, age: 40&#125;]</div></pre></td></tr></table></figure>

adjust：对指定位置的成员执行给定的函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var adjust1 = R.adjust(R.add(10) ,1)([1, 2, 3]);</div><div class="line">// console.log(adjust1); // [1, 12, 3]</div></pre></td></tr></table></figure>

ap：数组成员分别执行一组函数，将结果合成为一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var ap1 = R.ap([R.multiply(2), R.add(3)])([1, 2, 3]);</div><div class="line">// console.log(ap1); // [2, 4, 6, 4, 5, 6]</div></pre></td></tr></table></figure>

flatten：将嵌套数组铺平。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var flatten1 = R.flatten([1, 2, [ 3, 4, 5, [6]]]);</div><div class="line">// console.log(flatten1); // [1, 2, 3, 4, 5, 6]</div></pre></td></tr></table></figure>

groupWith：将数组成员依次按照指定条件两两比较，并按照结果将所有成员放入子数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var groupWith1 = R.groupWith(R.equals)([0, 1, 1, 2, 3, 5, 8, 13, 21]);</div><div class="line">// console.log(groupWith1); // [[0], [1, 1], [2], [3], [5], [8], [13], [21]]</div></pre></td></tr></table></figure>
</code></pre><h5 id="6-5-双数组运算（concat、zip、zipObj、xprod、intersection、intersectionWith、diffrence、diffrenceWith、symmetricDifference、symmetricDifferenceWith）"><a href="#6-5-双数组运算（concat、zip、zipObj、xprod、intersection、intersectionWith、diffrence、diffrenceWith、symmetricDifference、symmetricDifferenceWith）" class="headerlink" title="6.5 双数组运算（concat、zip、zipObj、xprod、intersection、intersectionWith、diffrence、diffrenceWith、symmetricDifference、symmetricDifferenceWith）"></a>6.5 双数组运算（concat、zip、zipObj、xprod、intersection、intersectionWith、diffrence、diffrenceWith、symmetricDifference、symmetricDifferenceWith）</h5><pre><code>concat：将两个数组合并成一个数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var concat1 = R.concat([1, 2])([&apos;a&apos;, &apos;b&apos;]);</div><div class="line">console.log(concat1); // [1, 2, &quot;a&quot;, &quot;b&quot;]</div></pre></td></tr></table></figure>

zip：将两个数组指定位置的成员放在一起，生成一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var zip1 = R.zip([1, 2, 3])([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]);</div><div class="line">// console.log(zip1); // [[1, &quot;a&quot;], [2, &quot;b&quot;], [3, &quot;c&quot;]]</div></pre></td></tr></table></figure>

zipObj：将两个数组指定位置的成员分别作为键名和键值，生成一个新对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var zip1 = R.zip([1, 2, 3])([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]);</div><div class="line">// console.log(zip1); // [[1, &quot;a&quot;], [2, &quot;b&quot;], [3, &quot;c&quot;]]</div></pre></td></tr></table></figure>

xprod：将两个数组的成员两两混合，生成一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var xprod1 = R.xprod([1, 2])([&apos;a&apos;, &apos;b&apos;]);</div><div class="line">// console.log(xprod1); // [[1, &quot;a&quot;], [1, &quot;b&quot;], [2, &quot;a&quot;], [2, &quot;b&quot;]]</div></pre></td></tr></table></figure>

intersection：返回两个数组相同的成员组成的新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var intersection1 = R.intersection([1, 2, 3, 4])([4, 3, 8]);</div><div class="line">// console.log(intersection1); // [4, 3]</div></pre></td></tr></table></figure>

intersectionWith：返回经过某种运算，有相同结果的两个成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var buffaloSpringfield = [</div><div class="line">  &#123;id: 824, name: &apos;Richie Furay&apos;&#125;,</div><div class="line">  &#123;id: 177, name: &apos;Neil Young&apos;&#125;</div><div class="line">];</div><div class="line">var csny = [</div><div class="line">  &#123;id: 204, name: &apos;David Crosby&apos;&#125;,</div><div class="line">  &#123;id: 177, name: &apos;Neil Young&apos;&#125;</div><div class="line">];</div><div class="line">var intersectionWith1 = R.intersectionWith(R.eqBy(R.prop(&apos;id&apos;)), buffaloSpringfield)(csny);</div><div class="line">// console.log(intersectionWith1); // [&#123;id: 177, name: &quot;Neil Young&quot;&#125;]</div></pre></td></tr></table></figure>

difference：返回第一个数组不包含在第二个数组里面的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var difference1 = R.difference([1, 2, 3, 4])([7, 6, 5, 4, 3]);</div><div class="line">// console.log(difference1); // [1, 2]</div></pre></td></tr></table></figure>

differenceWith：返回执行指定函数后，第一个数组里面不符合条件的所有成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var cmp = (x, y) =&gt; x.a === y.a;</div><div class="line">var l1 = [&#123;a: 1&#125;, &#123;a: 2&#125;, &#123;a: 3&#125;];</div><div class="line">var l2 = [&#123;a: 3&#125;, &#123;a: 4&#125;];</div><div class="line">var differenceWith1 = R.differenceWith(cmp, l1)(l2);</div><div class="line">console.log(differenceWith1); // [&#123;a: 1&#125;, &#123;a: 2&#125;]</div></pre></td></tr></table></figure>

symmetricDifference：返回两个数组的非共有成员所组成的一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var symmetricDifference1 = R.symmetricDifference([1, 2, 3, 4])([7, 6, 5, 4, 3]);</div><div class="line">// console.log(symmetricDifference1); // [1, 2, 7, 6, 5]</div></pre></td></tr></table></figure>

symmetricDifferenceWith：根据指定条件，返回两个数组所有运算结果不相等的成员所组成的新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var eqA = R.eqBy(R.prop(&apos;a&apos;));</div><div class="line">var l1 = [&#123;a: 1&#125;, &#123;a: 2&#125;, &#123;a: 3&#125;, &#123;a: 4&#125;];</div><div class="line">var l2 = [&#123;a: 3&#125;, &#123;a: 4&#125;, &#123;a: 5&#125;, &#123;a: 6&#125;];</div><div class="line">var symmetricDifferenceWith1 = R.symmetricDifferenceWith(eqA, l1, l2);</div><div class="line">// console.log(symmetricDifferenceWith1); // [&#123;a: 1&#125;, &#123;a: 2&#125;, &#123;a: 5&#125;, &#123;a: 6&#125;]</div></pre></td></tr></table></figure>
</code></pre><h5 id="6-6-复合数组（find、dindIndex、findLast、findLastIndex、pluck、project、transpose、mergeAll、fromPairs、groupBy、sortBy）"><a href="#6-6-复合数组（find、dindIndex、findLast、findLastIndex、pluck、project、transpose、mergeAll、fromPairs、groupBy、sortBy）" class="headerlink" title="6.6 复合数组（find、dindIndex、findLast、findLastIndex、pluck、project、transpose、mergeAll、fromPairs、groupBy、sortBy）"></a>6.6 复合数组（find、dindIndex、findLast、findLastIndex、pluck、project、transpose、mergeAll、fromPairs、groupBy、sortBy）</h5><pre><code>find：返回符合指定条件的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var xs = [&#123;a: 1&#125;, &#123;a: 2&#125;, &#123;a: 3&#125;];</div><div class="line">var find1 = R.find(R.propEq(&apos;a&apos;, 2))(xs);</div><div class="line">// console.log(find1); // [&#123;a: 2&#125;]</div></pre></td></tr></table></figure>

findIndex：返回符合指定条件的成员的位置。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var xs = [&#123;a: 1&#125;, &#123;a: 2&#125;, &#123;a: 3&#125;];</div><div class="line">var findIndex1 = R.findIndex(R.propEq(&apos;a&apos;, 2))(xs);</div><div class="line">// console.log(findIndex1); // 1</div></pre></td></tr></table></figure>

findLast：返回最后一个符合指定条件的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var xs = [&#123;a: 1, b: 0&#125;, &#123;a:1, b: 1&#125;];</div><div class="line">var findLast1 = R.findLast(R.propEq(&apos;a&apos;, 1))(xs);</div><div class="line">// console.log(findLast1); // &#123;a: 1, b: 1&#125;</div></pre></td></tr></table></figure>

findLastIndex：返回最后一个符合指定条件的成员的位置。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var xs = [&#123;a: 1, b: 0&#125;, &#123;a:1, b: 1&#125;];</div><div class="line">var findLastIndex1 = R.findLastIndex(R.propEq(&apos;a&apos;, 1))(xs);</div><div class="line">// console.log(findLastIndex1); // 1</div></pre></td></tr></table></figure>

pluck：取出数组成员的某个属性，组成一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var pluck1 = R.pluck(&apos;a&apos;)([&#123;a: 1&#125;, &#123;a: 2&#125;]);</div><div class="line">// console.log(pluck1); // [1, 2]</div></pre></td></tr></table></figure>

project：取出数组成员的多个属性，组成一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var abby = &#123;name: &apos;Abby&apos;, age: 7, hair: &apos;blond&apos;, grade: 2&#125;;</div><div class="line">var fred = &#123;name: &apos;Fred&apos;, age: 12, hair: &apos;brown&apos;, grade: 7&#125;;</div><div class="line">var kids = [abby, fred];</div><div class="line">var project1 = R.project([&apos;name&apos;, &apos;grade&apos;])(kids);</div><div class="line">// console.log(project1); // [&#123;name: &apos;Abby&apos;, grade: 2&#125;, &#123;name: &apos;Fred&apos;, grade: 7&#125;]</div></pre></td></tr></table></figure>

transpose：将每个成员相同位置的值，组成一个新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var transpose1 = R.transpose([[1, &apos;a&apos;], [2, &apos;b&apos;], [3, &apos;c&apos;]]);</div><div class="line">// console.log(transpose1); // [[1, 2, 3], [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]]</div></pre></td></tr></table></figure>

mergeAll：将数组的成员合并成一个对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var mergeAll1 = R.mergeAll([&#123;foo: 1&#125;, &#123;bar: 2&#125;, &#123;baz: 3&#125;]);</div><div class="line">// console.log(mergeAll1); // &#123;foo:1,bar:2,baz:3&#125;</div></pre></td></tr></table></figure>

fromPairs：将嵌套数组转为一个对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fromPairs1 = R.fromPairs([[&apos;a&apos;, 1], [&apos;b&apos;, 2], [&apos;c&apos;, 3]])</div><div class="line">// console.log(fromPairs1); // &#123;a: 1, b: 2, c: 3&#125;</div></pre></td></tr></table></figure>

groupBy：将数组成员按照指定条件分组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">var byGrade = R.groupBy(function (student) &#123;</div><div class="line">	let score = student.score;</div><div class="line">	return score &lt; 60 ? &apos;F&apos; :</div><div class="line">			score &lt; 70 ? &apos;D&apos; :</div><div class="line">			score &lt; 80 ? &apos;C&apos; :</div><div class="line">			score &lt; 90 ? &apos;B&apos; : &apos;A&apos;;</div><div class="line">&#125;);</div><div class="line">var students = [&#123;name: &apos;Abby&apos;, score: 84&#125;,</div><div class="line">				&#123;name: &apos;Eddy&apos;, score: 58&#125;,</div><div class="line">				&#123;name: &apos;Jack&apos;, score: 90&#125;];</div><div class="line">var groupBy1 = byGrade(students);</div><div class="line">// console.log(groupBy1); </div><div class="line">// &#123;</div><div class="line">//   &apos;A&apos;: [&#123;name: &apos;Jack&apos;, score: 90&#125;],</div><div class="line">//   &apos;B&apos;: [&#123;name: &apos;Abby&apos;, score: 84&#125;]</div><div class="line">//   &apos;F&apos;: [&#123;name: &apos;Eddy&apos;, score: 58&#125;]</div><div class="line">// &#125;</div></pre></td></tr></table></figure>

sortBy：根据成员的某个属性排序。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var sortByFirstItem = R.sortBy(R.prop(0));</div><div class="line">var sortBy1 = sortByFirstItem([[-1, 1], [-2, 2], [-3, 3]])</div><div class="line">// console.log(sortBy1); // // [[-3, 3], [-2, 2], [-1, 1]]</div></pre></td></tr></table></figure>
</code></pre><h4 id="七、对象"><a href="#七、对象" class="headerlink" title="七、对象"></a>七、对象</h4><h5 id="7-1-对象的特征判断（has、hasIn、propEq、whereEq、where）"><a href="#7-1-对象的特征判断（has、hasIn、propEq、whereEq、where）" class="headerlink" title="7.1 对象的特征判断（has、hasIn、propEq、whereEq、where）"></a>7.1 对象的特征判断（has、hasIn、propEq、whereEq、where）</h5><pre><code>has: 返回一个布尔值，表示对象自身是否具有该属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var hasName = R.has(&apos;name&apos;);</div><div class="line">var has1 = hasName(&#123;name: &apos;fan&apos;&#125;);</div><div class="line">// console.log(has1); // true</div></pre></td></tr></table></figure>

hasIn：返回一个布尔值，表示对象自身或原型链上是否具有某个属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Rectangle (width, height) &#123;</div><div class="line">	this.width = width;</div><div class="line">	this.height = height;</div><div class="line">&#125;</div><div class="line">Rectangle.prototype.area = function () &#123;</div><div class="line">	return this.width * this.height;</div><div class="line">&#125;;</div><div class="line">var square = new Rectangle(2, 2);</div><div class="line">var hasIn1 = R.hasIn(&apos;width&apos;)(square); // 自身的</div><div class="line">var hasIn2 = R.hasIn(&apos;area&apos;)(square); // 原型的</div><div class="line">// console.log(hasIn1, hasIn2); // true true</div></pre></td></tr></table></figure>

propEq：如果单个属性等于给定值，返回true。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var abby = &#123;name: &apos;Abby&apos;, age: 7, hair: &apos;blond&apos;&#125;;</div><div class="line">var fred = &#123;name: &apos;Fred&apos;, age: 12, hair: &apos;brown&apos;&#125;;</div><div class="line">var rusty = &#123;name: &apos;Rusty&apos;, age: 10, hair: &apos;brown&apos;&#125;;</div><div class="line">var alois = &#123;name: &apos;Alois&apos;, age: 15, disposition: &apos;surly&apos;&#125;;</div><div class="line">var kids = [abby, fred, rusty, alois];</div><div class="line">var hasBrownHair = R.propEq(&apos;hair&apos;, &apos;brown&apos;);</div><div class="line">var propEq1 = R.filter(hasBrownHair)(kids) // [fred, rusty]</div><div class="line">// console.log(propEq1); // // [fred, rusty]</div></pre></td></tr></table></figure>

whereEq：如果多个属性等于给定值，返回true。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var pred = R.whereEq(&#123;a: 1, b: 2&#125;);</div><div class="line">var whereEq1 = pred(&#123;a: 1, b: 2&#125;);</div><div class="line">// console.log(whereEq1); // true</div></pre></td></tr></table></figure>

where：如果各个属性都符合指定条件，返回true。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var pred = R.where(&#123;</div><div class="line">	a: R.equals(&apos;foo&apos;),</div><div class="line">	b: R.equals(&apos;bzr&apos;),</div><div class="line">	x: R.gt(10),</div><div class="line">	y: R.lt(20)</div><div class="line">&#125;);</div><div class="line">var where1 = pred(&#123;a: &apos;foo&apos;, b: &apos;bzr&apos;, x: 12, y: 15&#125;);</div><div class="line">console.log(where1); // true</div></pre></td></tr></table></figure>
</code></pre><h5 id="7-2-对象的过滤（omit、filter、reject）"><a href="#7-2-对象的过滤（omit、filter、reject）" class="headerlink" title="7.2 对象的过滤（omit、filter、reject）"></a>7.2 对象的过滤（omit、filter、reject）</h5><pre><code>omit：过滤指定属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var omit1 = R.omit([&apos;a&apos;, &apos;b&apos;])(&#123;a: 1, b: 2, c: 3, d: 4&#125;);</div><div class="line">// console.log(omit1); // &#123;b: 2, c: 3&#125;</div></pre></td></tr></table></figure>

filter：返回所有满足条件的属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isEven = n =&gt; n % 2 === 0;</div><div class="line">var filter1 = R.filter(isEven)(&#123;a: 1, b: 2, c: 3, d: 4&#125;);</div><div class="line">// console.log(filter1); // &#123;b: 2, d: 4&#125;</div></pre></td></tr></table></figure>

reject：返回所有不满足条件的属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isOdd = n =&gt; n % 2 === 1;</div><div class="line">var reject1 = R.reject(isOdd)(&#123;a: 1, b: 2, c: 3, d: 4&#125;);</div><div class="line">// console.log(reject1); // &#123;b: 2, d: 4&#125;</div></pre></td></tr></table></figure>

reject：返回所有不满足条件的属性。
</code></pre><h5 id="7-3-对象的截取（dissoc、assoc、partition、pick、pickAll、pickBy、keys、keysIn、values、valuesIn、invertObj、invert）"><a href="#7-3-对象的截取（dissoc、assoc、partition、pick、pickAll、pickBy、keys、keysIn、values、valuesIn、invertObj、invert）" class="headerlink" title="7.3 对象的截取（dissoc、assoc、partition、pick、pickAll、pickBy、keys、keysIn、values、valuesIn、invertObj、invert）"></a>7.3 对象的截取（dissoc、assoc、partition、pick、pickAll、pickBy、keys、keysIn、values、valuesIn、invertObj、invert）</h5><pre><code>dissoc：过滤指定属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var dissoc1 = R.dissoc(&apos;b&apos;)(&#123;a: 1, b: 2, c: 3&#125;);</div><div class="line">// console.log(dissoc1); // &#123;a: 1, c: 3&#125;</div></pre></td></tr></table></figure>

assoc：添加或改写某个属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var assoc1 = R.assoc(&apos;c&apos;, 3)(&#123;a: 1, b: 2&#125;);</div><div class="line">// console.log(assoc1); // &#123;a: 1, b: 2, c: 3&#125;</div></pre></td></tr></table></figure>

partition：根据属性值是否满足给定条件，将属性分区。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var partition1 = R.partition(R.contains(&apos;s&apos;))(&#123;a: &apos;ssss&apos;, b: &apos;ttt&apos;, foo: &apos;bars&apos;&#125;);</div><div class="line">// console.log(partition1); // [ &#123; a: &apos;sss&apos;, foo: &apos;bars&apos; &#125;, &#123; b: &apos;ttt&apos; &#125;  ]</div></pre></td></tr></table></figure>

pick：返回指定属性组成的新对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var pick1 = R.pick([&apos;a&apos;, &apos;d&apos;])(&#123;a: 1, b: 2, c: 3, d: 4&#125;);</div><div class="line">// console.log(pick1); // &#123;a: 1, d: 4&#125;</div></pre></td></tr></table></figure>

pickAll：与pick类似，但会包括不存在的属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var pickAll1 = R.pickAll([&apos;a&apos;, &apos;d&apos;, &apos;f&apos;])(&#123;a: 1, b: 2, c: 3, d: 4&#125;);</div><div class="line">// console.log(pickAll1); // &#123;a: 1, d: 4, f: undefined&#125;</div></pre></td></tr></table></figure>

pickBy：返回符合条件的属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var isUpperCase = (val, key) =&gt; key.toUpperCase() === key;</div><div class="line">var pickBy1 = R.pickBy(isUpperCase)(&#123;a: 1, b: 2, A: 3, B: 4&#125;);</div><div class="line">// console.log(pickBy1); // &#123;A: 3, B: 4&#125;</div></pre></td></tr></table></figure>

keys：返回对象自身属性的属性名组成的新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var keys1 = R.keys(&#123;a: 1, b: 2&#125;);</div><div class="line">// console.log(keys1); // [&apos;a&apos;, &apos;b&apos;]</div></pre></td></tr></table></figure>

keysIn：返回对象自身的和继承的属性的属性名组成的新数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var F = function () &#123;this.x = &apos;X&apos;&#125;;</div><div class="line">F.prototype.y = &apos;Y&apos;;</div><div class="line">var f = new F();</div><div class="line">var keysIn1 = R.keysIn(f);</div><div class="line">// console.log(keysIn1); // [&apos;x&apos;, &apos;y&apos;]</div></pre></td></tr></table></figure>

values：返回对象自身的属性的属性值组成的数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var values1 = R.values(&#123;a: 1, b: 2, c: 3&#125;);</div><div class="line">// console.log(values1); // [1, 2, 3]</div></pre></td></tr></table></figure>

valuesIn：返回对象自身的和继承的属性的属性值组成的数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var F = function() &#123; this.x = &apos;X&apos;; &#125;;</div><div class="line">F.prototype.y = &apos;Y&apos;;</div><div class="line">var f = new F();</div><div class="line">var valuesIn1 = R.valuesIn(f);</div><div class="line">// console.log(valuesIn1); // [&quot;X&quot;, &quot;Y&quot;]</div></pre></td></tr></table></figure>

invertObj：将属性值和属性名互换。如果多个属性的属性值相同，只返回最后一个属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var raceResultsByFirstName = &#123;</div><div class="line">  first: &apos;alice&apos;,</div><div class="line">  second: &apos;jake&apos;,</div><div class="line">  third: &apos;alice&apos;,</div><div class="line">&#125;;</div><div class="line">var invertObj1 = R.invertObj(raceResultsByFirstName);</div><div class="line">// console.log(invertObj1); // &#123;alice: &quot;third&quot;, jake: &quot;second&quot;&#125;</div></pre></td></tr></table></figure>

invert：将属性值和属性名互换，每个属性值对应一个数组。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var raceResultsByFirstName = &#123;</div><div class="line">  first: &apos;alice&apos;,</div><div class="line">  second: &apos;jake&apos;,</div><div class="line">  third: &apos;alice&apos;,</div><div class="line">&#125;;</div><div class="line">var invert1 = R.invert(raceResultsByFirstName);</div><div class="line">console.log(invert1); // // &#123; &apos;alice&apos;: [&apos;first&apos;, &apos;third&apos;], &apos;jake&apos;:[&apos;second&apos;] &#125;</div></pre></td></tr></table></figure>
</code></pre><h5 id="7-4-对象的运算（prop、map、mapObjIndexed、forEachObjIndexed、merge、mergeWith、eqProps、evolve）"><a href="#7-4-对象的运算（prop、map、mapObjIndexed、forEachObjIndexed、merge、mergeWith、eqProps、evolve）" class="headerlink" title="7.4 对象的运算（prop、map、mapObjIndexed、forEachObjIndexed、merge、mergeWith、eqProps、evolve）"></a>7.4 对象的运算（prop、map、mapObjIndexed、forEachObjIndexed、merge、mergeWith、eqProps、evolve）</h5><pre><code>prop：返回对象的指定属性。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var prop1 = R.prop(&apos;x&apos;)(&#123;x: 100&#125;);</div><div class="line">// console.log(prop1); // 100</div></pre></td></tr></table></figure>

map：对象的所有属性依次执行某个函数。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var double = x =&gt; x * 2;</div><div class="line">var map1 = R.map(double)(&#123;x: 1, y: 2, z: 3&#125;);</div><div class="line">// console.log(map1); // &#123;x: 2, y: 4, z: 6&#125;</div></pre></td></tr></table></figure>

mapObjIndexed：与map类似，但是会额外传入属性名和整个对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var values = &#123;x: 1, y: 2, z: 3&#125;;</div><div class="line">var prependkeyAndDouble = (num, key, obj) =&gt; key + (num * 2);</div><div class="line">var mapObjIndexed1 = R.mapObjIndexed(prependkeyAndDouble)(values);</div><div class="line">// console.log(mapObjIndexed1); // &#123;x: &quot;x2&quot;, y: &quot;y4&quot;, z: &quot;z6&quot;&#125;</div></pre></td></tr></table></figure>

forEachObjIndexed：每个属性依次执行给定函数，给定函数的参数分别是属性值和属性名，返回原对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var printkeyConcatValue = (value, key) =&gt; console.log(key + &apos;:&apos; + value);</div><div class="line">var forEachObjIndexed1 = R.forEachObjIndexed(printkeyConcatValue)(&#123;x: 1,y: 2&#125;);</div><div class="line">// console.log(forEachObjIndexed1); // &#123;x: 1,y: 2&#125;</div></pre></td></tr></table></figure>

merge：合并两个对象，如果有同名属性，后面的值会覆盖掉前面的值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var merge1 = R.merge(&#123;&apos;name&apos;: &apos;fred&apos;, &apos;age&apos;: 10&#125;)(&#123;&apos;age&apos;: 40&#125;);</div><div class="line">// console.log(merge1); // &#123;name: &quot;fred&quot;, age: 40&#125;</div></pre></td></tr></table></figure>

mergeWith：合并两个对象，如果有同名属性，会使用指定的函数处理。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var mergeWith1 = R.mergeWith(</div><div class="line">		R.concat,</div><div class="line">		&#123;a: true, values: [10, 20]&#125;,</div><div class="line">		&#123;b: true, values: [15, 35]&#125;</div><div class="line">	);</div><div class="line">// console.log(mergeWith1); // &#123; a: true, b: true, values: [10, 20, 15, 35] &#125;</div></pre></td></tr></table></figure>

eqProps：比较两个对象的指定属性是否相等。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var o1 = &#123;a: 1, b: 2, c: 3, d: 4&#125;;</div><div class="line">var o2 = &#123;a: 10, b: 20, c: 3, d: 40&#125;;</div><div class="line">var eqProps1 = R.eqProps(&apos;c&apos;, o1)(o2);</div><div class="line">// console.log(eqProps1); //true</div></pre></td></tr></table></figure>

evolve：对象的属性分别经过一组函数的处理，返回一个新对象。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">var tomato = &#123;</div><div class="line">	firstName: &apos;Tomato&apos;,</div><div class="line">	data: &#123;elapsed: 100, remaining: 1400&#125;,</div><div class="line">	id: 123</div><div class="line">&#125;;</div><div class="line">var transformations = &#123;</div><div class="line">	firstName: R.trim,</div><div class="line">	lastName: R.trim,</div><div class="line">	data: &#123;elapsed: R.add(1), remaining: R.add(-1)&#125;</div><div class="line">&#125;;</div><div class="line">var evolve1 = R.evolve(transformations)(tomato);</div><div class="line">// console.log(evolve1);</div><div class="line">// &#123;</div><div class="line">//   firstName: &apos;Tomato&apos;,</div><div class="line">//   data: &#123;elapsed: 101, remaining: 1399&#125;,</div><div class="line">//   id: 123</div><div class="line">// &#125;</div></pre></td></tr></table></figure>
</code></pre><h5 id="7-5-复合对象（path、pathEq、assocPath）"><a href="#7-5-复合对象（path、pathEq、assocPath）" class="headerlink" title="7.5 复合对象（path、pathEq、assocPath）"></a>7.5 复合对象（path、pathEq、assocPath）</h5><pre><code>path：取出数组中指定路径的值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var path1 = R.path([&apos;a&apos;, &apos;b&apos;], &#123;a: &#123;b: 2&#125;&#125;);</div><div class="line">// console.log(path1); // 2</div></pre></td></tr></table></figure>

pathEq：返回指定路径的值符合条件的成员。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var user1 = &#123;address: &#123;zipCode: 11111&#125;&#125;;</div><div class="line">var user2 = &#123;address: &#123;zipCode: 22222&#125;&#125;;</div><div class="line">var user3 = &#123;address: &#123;zipCode: 33333&#125;&#125;;</div><div class="line">var users = [user1, user2, user3];</div><div class="line">var isFamous = R.pathEq([&apos;address&apos;, &apos;zipCode&apos;], 11111);</div><div class="line">var pathEq1 = R.filter(isFamous)(users);</div><div class="line">// console.log(pathEq1); // [user1]</div></pre></td></tr></table></figure>

assocPath：添加或改写指定路径的属性的值。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var assocPath1 = R.assocPath([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], 42)(&#123;a: &#123;b: &#123;c: 0&#125;&#125;&#125;);</div><div class="line">// console.log(assocPath1); // &#123;a: &#123;b: &#123;c: 42&#125;&#125;&#125;</div></pre></td></tr></table></figure>
</code></pre><blockquote>
<p>   参考文档：<br><a href="http://www.ruanyifeng.com/blog/2017/03/ramda.html" target="_blank" rel="external">阮老师–Ramda 函数库参考教程</a><br><a href="http://ramda.cn/" target="_blank" rel="external">Ramda 中文</a>        </p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/13/js面向对象编程-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/13/js面向对象编程-2/" itemprop="url">
                  js面向对象编程-非构造函数的继承
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-13T16:08:41+08:00">
                2017-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面向对象编程/" itemprop="url" rel="index">
                    <span itemprop="name">面向对象编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/13/js面向对象编程-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/13/js面向对象编程-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>重新复习 – js面向对象编程知识，本文介绍-对象之间的非构造函数实现”继承”。</p>
<h4 id="先来两个对象（父类和子类）"><a href="#先来两个对象（父类和子类）" class="headerlink" title="先来两个对象（父类和子类）"></a>先来两个对象（父类和子类）</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">let Chinese = &#123;</div><div class="line">	nation: &apos;中国&apos;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">let Doctor = &#123;</div><div class="line">	career: &apos;医生&apos;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</code></pre><h4 id="一、object-方法"><a href="#一、object-方法" class="headerlink" title="一、object()方法"></a>一、object()方法</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">let Chinese = &#123;</div><div class="line">	nation: &apos;中国&apos;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">function object (o) &#123;</div><div class="line">	function F () &#123;&#125;;</div><div class="line">	F.prototype = o;</div><div class="line">	return new F();</div><div class="line">&#125;</div><div class="line"></div><div class="line">let Doctor = object(Chinese);</div><div class="line">Doctor.career = &apos;医生&apos;;</div><div class="line">console.log(Doctor.nation) // 中国</div></pre></td></tr></table></figure>

这个object()函数，其实只做一件事，就是把子对象的prototype属性，指向父对象，从而使得子对象与父对象连在一起。
</code></pre><h4 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h4><pre><code>把父对象的属性，全部拷贝给子对象，也能实现继承。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">let Chinese = &#123;</div><div class="line">	nation: &apos;中国&apos;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">function extendCopy (p) &#123;</div><div class="line">	let c = &#123;&#125;;</div><div class="line">	for (let i in p) &#123;</div><div class="line">		c[i] = p[i];</div><div class="line">	&#125;</div><div class="line">	return c;</div><div class="line">&#125;</div><div class="line">let Doctor = extendCopy(Chinese);</div><div class="line">Doctor.career = &apos;医生&apos;;</div><div class="line">console.log(Doctor.nation) // 中国</div></pre></td></tr></table></figure>

存在问题：只拷贝基本类型，对于引用类型拷贝内存地址，存在父对象别篡改的可能。
</code></pre><h4 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h4><pre><code>所谓&quot;深拷贝&quot;，就是能够实现真正意义上的数组和对象的拷贝。它的实现并不难，只要递归调用&quot;浅拷贝&quot;就行了。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">let Chinese = &#123;</div><div class="line">	nation: &apos;中国&apos;,</div><div class="line">	cities: [&apos;成都&apos;, &apos;北京&apos;]</div><div class="line">&#125;;</div><div class="line">function deepCopy(p, c) &#123;</div><div class="line">	var c = c || &#123;&#125;;</div><div class="line">	for (let i in p) &#123;</div><div class="line">		if (typeof p[i] === &apos;object&apos;) &#123;</div><div class="line">			c[i] = (p[i].constructor === Array) ? [] : &#123;&#125;;</div><div class="line">			deepCopy(p[i], c[i]);</div><div class="line">		&#125; else &#123;</div><div class="line">			c[i] = p[i];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	return c;</div><div class="line">&#125; </div><div class="line">let Doctor = deepCopy(Chinese);</div><div class="line">Doctor.career = &apos;医生&apos;;</div><div class="line">console.log(Doctor.cities)  // [&quot;成都&quot;, &quot;北京&quot;]</div></pre></td></tr></table></figure>
</code></pre><blockquote>
<p>   参考：<br>    <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance_continued.html" target="_blank" rel="external">阮老师-Javascript面向对象编程（三）：非构造函数的继承</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/13/js面向对象编程-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/13/js面向对象编程-1/" itemprop="url">
                  js面向对象编程-构造函数的继承
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-13T14:52:40+08:00">
                2017-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面向对象编程/" itemprop="url" rel="index">
                    <span itemprop="name">面向对象编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/13/js面向对象编程-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/13/js面向对象编程-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>重新复习 – js面向对象编程知识，本文介绍-对象之间的”继承”的五种方法。</p>
<h4 id="先来两个构造函数（父类和子类）"><a href="#先来两个构造函数（父类和子类）" class="headerlink" title="先来两个构造函数（父类和子类）"></a>先来两个构造函数（父类和子类）</h4><pre><code>现有一个&quot;动物&quot;对象的构造函数
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function Animal () &#123;</div><div class="line">	this.species = &quot;动物&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

再来一只&quot;猫&quot;对象的构造函数
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><h4 id="一、构造函数绑定"><a href="#一、构造函数绑定" class="headerlink" title="一、构造函数绑定"></a>一、构造函数绑定</h4><pre><code>使用call或apply方法，将父对象的构造函数绑定在子对象上。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function Cat (name, color) &#123;</div><div class="line">	Animal.call(this, arguments); // 构造函数绑定-继承</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1); // &#123;species: &quot;动物&quot;, name: &quot;小白&quot;, color: &quot;红色&quot;&#125;</div></pre></td></tr></table></figure>
</code></pre><h4 id="二、prototype模式"><a href="#二、prototype模式" class="headerlink" title="二、prototype模式"></a>二、prototype模式</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function Animal () &#123;</div><div class="line">	this.species = &quot;动物&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line">Cat.prototype = new Animal(); // prototype模式-继承</div><div class="line">Cat.prototype.constructor = Cat; // 重新将constructor指向Cat</div><div class="line"></div><div class="line">var cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1.species); // 动物</div></pre></td></tr></table></figure>
</code></pre><h4 id="三、直接继承prototype"><a href="#三、直接继承prototype" class="headerlink" title="三、直接继承prototype"></a>三、直接继承prototype</h4><pre><code>第三种方法是对第二种方法的改进。由于Animal对象中，不变的属性都可以直接写入Animal.prototype。所以，我们也可以让Cat()跳过 Animal()，直接继承Animal.prototype。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">function Animal () &#123; &#125;</div><div class="line">Animal.prototype.species = &apos;动物&apos;;</div><div class="line"></div><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">Cat.prototype = Animal.prototype; // 直接继承prototype</div><div class="line">Cat.prototype.constructor = Cat;</div><div class="line"></div><div class="line">var cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1.species); // 动物</div></pre></td></tr></table></figure>

与前一种方法相比，这样做的优点是效率比较高（不用执行和建立Animal的实例了），比较省内存。缺点是 Cat.prototype和Animal.prototype现在指向了同一个对象，那么任何对Cat.prototype的修改，都会反映到Animal.prototype。
console.log(Animal.prototype.constructor); // Cat
</code></pre><h4 id="四、利用空对象作为中介"><a href="#四、利用空对象作为中介" class="headerlink" title="四、利用空对象作为中介"></a>四、利用空对象作为中介</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function Animal () &#123; &#125;</div><div class="line">Animal.prototype.species = &apos;动物&apos;;</div><div class="line"></div><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 空对象作为中介</div><div class="line">let F = function () &#123;&#125;;</div><div class="line">F.prototype = Animal.prototype;</div><div class="line"></div><div class="line">Cat.prototype = new F(); </div><div class="line">Cat.prototype.constructor = Cat;</div><div class="line"></div><div class="line">var cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1.species); // 动物</div></pre></td></tr></table></figure>

还可以单独封装成方法
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">let extend = function (child, parent) &#123;</div><div class="line">	let F = function () &#123;&#125;;</div><div class="line">	F.prototype = parent.prototype;</div><div class="line">	child.prototype = new F();</div><div class="line">	child.prototype.constructor = child;</div><div class="line">&#125;;</div><div class="line">extend(Cat, Animal);</div><div class="line">let cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1.species); // 动物</div></pre></td></tr></table></figure>
</code></pre><h4 id="五、拷贝继承"><a href="#五、拷贝继承" class="headerlink" title="五、拷贝继承"></a>五、拷贝继承</h4><pre><code>简单说，如果把父对象的所有属性和方法，拷贝进子对象。    
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function Animal () &#123; &#125;</div><div class="line">Animal.prototype.species = &apos;动物&apos;;</div><div class="line"></div><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name;</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 拷贝继承</div><div class="line">function extend2 (child, parent) &#123;</div><div class="line">	let p = parent.prototype;</div><div class="line">	let c = child.prototype;</div><div class="line">	for (let i in p) &#123;</div><div class="line">		c[i] = p[i];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">extend2(Cat, Animal);</div><div class="line">let cat1 = new Cat(&apos;小白&apos;, &apos;红色&apos;);</div><div class="line">console.log(cat1.species) // 动物</div></pre></td></tr></table></figure>
</code></pre><blockquote>
<p>   参考：<br>    <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_inheritance.html" target="_blank" rel="external">阮老师-Javascript面向对象编程（二）：构造函数的继承</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/13/js面向对象编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/13/js面向对象编程/" itemprop="url">
                  js面向对象编程-"封装"（Encapsulation）
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-13T10:44:00+08:00">
                2017-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面向对象编程/" itemprop="url" rel="index">
                    <span itemprop="name">面向对象编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/13/js面向对象编程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/13/js面向对象编程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>重新复习 – js面向对象编程知识</p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Cat (name, color) &#123;</div><div class="line">	this.name = name; // 使用动态作用域this</div><div class="line">	this.color = color;</div><div class="line">&#125;</div><div class="line">Cat.prototype.type = &apos;猫科动物&apos;;</div><div class="line">Cat.prototype.eat = function () &#123;</div><div class="line">	console.log(&apos;吃老鼠&apos;);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">let cat1 =new Cat(&apos;大毛&apos;, &apos;黄色&apos;);</div><div class="line">let cat2 =new Cat(&apos;小毛&apos;, &apos;黑色&apos;);</div></pre></td></tr></table></figure>
</code></pre><h4 id="constructor-—-每个实例都有一个constructor属性，指向它们的构造函数"><a href="#constructor-—-每个实例都有一个constructor属性，指向它们的构造函数" class="headerlink" title="constructor — 每个实例都有一个constructor属性，指向它们的构造函数"></a>constructor — 每个实例都有一个constructor属性，指向它们的构造函数</h4><pre><code>// console.log(cat1.constructor == Cat) true
</code></pre><h4 id="instanceof-—-验证原型对象与实例之间的关系"><a href="#instanceof-—-验证原型对象与实例之间的关系" class="headerlink" title="instanceof — 验证原型对象与实例之间的关系"></a>instanceof — 验证原型对象与实例之间的关系</h4><pre><code>// console.log(cat1 instanceof Cat) true
// console.log(cat1.type); 猫科动物
// console.log(cat1.type === cat2.type) true 都从原型中获得
// cat1.eat() 吃老鼠
</code></pre><h5 id="isPrototypeOf-—-某个proptotype对象和某个实例之间的关系。"><a href="#isPrototypeOf-—-某个proptotype对象和某个实例之间的关系。" class="headerlink" title="isPrototypeOf() — 某个proptotype对象和某个实例之间的关系。"></a>isPrototypeOf() — 某个proptotype对象和某个实例之间的关系。</h5><pre><code>// console.log(Cat.prototype.isPrototypeOf(cat1)) true
</code></pre><h5 id="hasOwnProperty-—-每个实例对象都有一个hasOwnProperty-方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。"><a href="#hasOwnProperty-—-每个实例对象都有一个hasOwnProperty-方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。" class="headerlink" title="hasOwnProperty() — 每个实例对象都有一个hasOwnProperty()方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。"></a>hasOwnProperty() — 每个实例对象都有一个hasOwnProperty()方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。</h5><pre><code>// console.log(cat1.hasOwnProperty(&apos;name&apos;)); true
// console.log(cat1.hasOwnProperty(&apos;eat&apos;)); false
</code></pre><h5 id="in运算符-—-某个实例是否含有某个属性，不管是不是本地属性"><a href="#in运算符-—-某个实例是否含有某个属性，不管是不是本地属性" class="headerlink" title="in运算符 — 某个实例是否含有某个属性，不管是不是本地属性"></a>in运算符 — 某个实例是否含有某个属性，不管是不是本地属性</h5><pre><code>// console.log(&apos;name&apos; in cat1); true
// console.log(&apos;eat&apos; in cat1); true
</code></pre><h4 id="总结对象属性的遍历"><a href="#总结对象属性的遍历" class="headerlink" title="总结对象属性的遍历"></a>总结对象属性的遍历</h4><pre><code>1.    in --- 遍历**可枚举的自身属性和继承属性**
2.    Object.getOwnPropertyNames() --- 遍历所有的自身属性
3.    Object.keys(obj) --- 遍历**可枚举的自身属性**，返回一个属性数组
</code></pre><blockquote>
<p>   参考：<br>    <a href="http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html" target="_blank" rel="external">阮老师-Javascript面向对象编程（一）：封装</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fanerge.github.io/2017/08/11/js函数式编程-读书笔记-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="余真帆-fanerge">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="余真帆的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/11/js函数式编程-读书笔记-7/" itemprop="url">
                  js函数式编程-读书笔记
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-11T20:59:55+08:00">
                2017-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/函数式编程/" itemprop="url" rel="index">
                    <span itemprop="name">函数式编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/08/11/js函数式编程-读书笔记-7/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/08/11/js函数式编程-读书笔记-7/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近，工作不是很忙，赶紧为自己充电。准备很长一段事件撸<strong>函数式编程</strong>。<br><em>如有不正确的地方，请大家提出来，我会更正，共同进步，谢谢。</em></p>
<h3 id="基于流的编程-or-无类编程"><a href="#基于流的编程-or-无类编程" class="headerlink" title="基于流的编程 or 无类编程"></a>基于流的编程 or 无类编程</h3><h4 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">function createPerson () &#123;</div><div class="line">	let firstName = &apos;&apos;;</div><div class="line">	let lastName = &apos;&apos;;</div><div class="line">	let age = 0;</div><div class="line">	return &#123;</div><div class="line">		setFirstName: function (fn) &#123;</div><div class="line">			firstName = fn;</div><div class="line">			return this;	</div><div class="line">		&#125;,</div><div class="line">		setLastName: function (fn) &#123;</div><div class="line">			lastName = fn;</div><div class="line">			return this;	</div><div class="line">		&#125;,</div><div class="line">		setAge: function (fn) &#123;</div><div class="line">			age = fn;</div><div class="line">			return this;</div><div class="line">		&#125;,</div><div class="line">		toString: function () &#123;</div><div class="line">			return [firstName, lastName, age].join(&apos; &apos;);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;</div><div class="line">let dd = createPerson()</div><div class="line">		.setFirstName(&apos;yu&apos;)</div><div class="line">		.setLastName(&apos;fan&apos;)</div><div class="line">		.setAge(11)</div><div class="line">		.toString();</div><div class="line">console.log(dd) // yu fan 11</div></pre></td></tr></table></figure>
</code></pre><h4 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h4><pre><code>pipeline(a, _.compact, _.initial, _.rest, rev) // 对数据a进行一系列的操作
</code></pre><h4 id="数据流与控制流"><a href="#数据流与控制流" class="headerlink" title="数据流与控制流"></a>数据流与控制流</h4><h3 id="无类编程"><a href="#无类编程" class="headerlink" title="无类编程"></a>无类编程</h3><h4 id=""><a href="#" class="headerlink" title=" "></a> </h4><h4 id="数据导向"><a href="#数据导向" class="headerlink" title="数据导向"></a>数据导向</h4><h4 id="Mixins"><a href="#Mixins" class="headerlink" title="Mixins"></a>Mixins</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line">类层次结构</div><div class="line">function ContainerClass () &#123;&#125;</div><div class="line">function ObservedContainerClass () &#123;&#125;</div><div class="line">function HoleClass () &#123;&#125;</div><div class="line">function CASClass () &#123;&#125;</div><div class="line">function TableBaseClass () &#123;&#125;</div><div class="line"></div><div class="line">ObservedContainerClass.prototype = new ContainerClass();</div><div class="line">HoleClass.prototype = new ObservedContainerClass();</div><div class="line">CASClass.prototype = new HoleClass();</div><div class="line">TableBaseClass.prototype = new HoleClass();</div><div class="line"></div><div class="line">// 用Mixin扁平化层级结构</div><div class="line">function Container (val) &#123;</div><div class="line">	this._value = val;</div><div class="line">	this.init(val);</div><div class="line">&#125;</div><div class="line">Container.prototype.init = _.identity;</div><div class="line">let Hole = function (val) &#123;</div><div class="line">	Container.call(this, val);</div><div class="line">&#125;</div><div class="line">let HoleMixin = &#123;</div><div class="line">	setValue: function (newValue) &#123;</div><div class="line">		let oldVal = this._value;</div><div class="line">		this.validate(newValue);</div><div class="line">		this._value = newValue;</div><div class="line">		this.notify(oldVal, newValue);</div><div class="line">		return this._value;</div><div class="line">	&#125;,</div><div class="line">&#125;;</div><div class="line">let ObserverMixin = (function () &#123;</div><div class="line">	let _watchers = [];</div><div class="line">	return &#123;</div><div class="line">		watch: function (fun) &#123;</div><div class="line">			_watchers.push(fun);</div><div class="line">			return _.size(_watchers);</div><div class="line">		&#125;,</div><div class="line">		notify: function (oldVal, newVal) &#123;</div><div class="line">			_.each(_._watchers, function (watcher) &#123;</div><div class="line">				watcher.call(this, oldVal, newVal);</div><div class="line">			&#125;);</div><div class="line">			return _.size(_watchers);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;);</div><div class="line">let ValidateMixin = &#123;</div><div class="line">	addValidator: function (fun) &#123;</div><div class="line">		this._validator = fun;</div><div class="line">	&#125;,</div><div class="line">	init: function (val) &#123;</div><div class="line">		this.validate(val);</div><div class="line">	&#125;,</div><div class="line">	validate: function (val) &#123;</div><div class="line">		if (existy(this._validator) &amp;&amp;</div><div class="line">			!this._validator(val)) &#123;</div><div class="line">			fail(&apos;Attrmpted to set invalid value&apos; + polyToString(val));</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line">_.extend(Hole.prototype, HoleMixin, ValidateMixin, ObserverMixin); // 同级继承</div><div class="line">let h = new Hole(43);</div><div class="line">h.addValidator(always(false));</div><div class="line">console.log(h); // 43</div><div class="line"></div><div class="line">let SwapMixin = &#123;</div><div class="line">	swap: function (fun) &#123;</div><div class="line">		let args = _.rest(arguemnts);</div><div class="line">		let newValue = fun.apply(this, _.identity);</div><div class="line">		return this.setValue(newValue);</div><div class="line">	&#125;,</div><div class="line">&#125;;</div><div class="line">let o = &#123;_value: 0, setValue: _.identity&#125;</div><div class="line">_.extend(o, SwapMixin);</div><div class="line">o.swap(construct, [1, 2, 3]); //[0, 1, 2, 3]</div></pre></td></tr></table></figure>
</code></pre><blockquote>
<p>   源代码仓库<br>    <a href="https://github.com/fanerge/Functional-reading-notes" target="_blank" rel="external">函数式编程-读书笔记</a></p>
</blockquote>
<pre><code>```
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="余真帆-fanerge" />
          <p class="site-author-name" itemprop="name">余真帆-fanerge</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">69</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">余真帆-fanerge</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://fanerge.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

</body>
</html>
